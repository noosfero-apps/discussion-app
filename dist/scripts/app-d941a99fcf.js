!function(){"use strict";angular.module("dialoga",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ngStorage","720kb.socialshare","slugifier","ncy-angular-breadcrumb","ngMessages"])}(),function(){"use strict";function a(a,e,o,s,r,t){var i=this;i.DialogaService=a,i.$scope=e,i.$rootScope=o,i.$location=s,i.$filter=r,i.$log=t,i.init(),i.loadData(),i.attachListeners(),i.$rootScope.focusMainContent(),t.debug("RespostasPageController")}angular.module("dialoga").controller("RespostasPageController",a),a.$inject=["DialogaService","$scope","$rootScope","$location","$filter","$log"],a.prototype.init=function(){var a=this;a.page=1,a.per_page=10,a.themes=null,a.selectedTheme=null,a.filtredProposals=null,a.query=null,a.search=a.$location.search(),a.search.tema&&(a._filtredByThemeSlug=a.search.tema),a.search.filtro&&(a._filtredByQuery=a.search.filtro),(a.search.tema||a.search.filtro)&&(a.loadingFilter=!0),a.loading=null,a.error=null},a.prototype.loadData=function(){var a=this;a.loading=!0,a.loadingThemes=!0,a.DialogaService.getThemes(function(e){for(var o=[],s=e.length-1;s>=0;s--){var r=e[s];r.archived&&o.push(r)}a.themes=o,a.loadingThemes=!1,a.loading=!1,a.filter()},function(e){a.error=e,a.$log.error(e),a.loadingThemes=!1,a.loading=!1})},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("change-selectedCategory",function(e,o){a.selectedTheme=o}),a.$scope.$watch("pageRespostas.selectedTheme",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),a.loadingFilter||a.filterProposals()}),a.$scope.$watch("pageRespostas.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.loadingFilter||a.filterProposals()})},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.selectedTheme=null},a.prototype.changePage=function(a){var e=this;e.page=a,e.filterProposals(a)},a.prototype.filter=function(){var a=this;if(a.loadingThemes||a.loadingProposals)return void a.$log.info("No proposals or themes loaded yet. Abort.");if(a._filtredByThemeSlug){var e=a._filtredByThemeSlug;a.DialogaService.getThemeBySlug(e,function(e){a.selectedTheme=e},function(e){a.$log.error('Error when try to "getThemeBySlug"',e)})}a._filtredByQuery&&(a.query=a._filtredByQuery),(a._filtredByThemeSlug||a._filtredByQuery)&&(a.filterProposals(),a.loadingFilter=!1)},a.prototype.filterProposals=function(a,e){var o=this;if(o.loadingProposals)return void o.$log.debug("Content is not loaded yet.");var s=a||o.page,r=e||o.per_page,t=o.query,i={page:s,per_page:r,has_children:!0,"fields[]":["id","body","abstract","hits","ranking_position","votes_against","votes_count","votes_for","parent","categories","slug","url","image","title","archived"]};o.selectedTheme&&(i.category_ids=o.selectedTheme.id),t&&(i.query=t),o.loadingProposals=!0,o.DialogaService.searchProposals(i,function(a){o.total_proposals=parseInt(a._obj.headers("total")),o.filtredProposals=a.articles,o.loadingProposals=!1},function(a){o.error=a,o.$log.error(a),o.loadingProposals=!1})},a.prototype.submitSearch=function(){var a=this,e=angular.element("#search-result");e&&e.length>0?(angular.element("html,body").animate({scrollTop:e.offset().top},"fast"),a.filterProposals()):a.$log.warn("#search-result element not found.")}}(),function(){"use strict";function a(a,e,o,s,r,t){var i=this;i.DialogaService=a,i.$scope=e,i.$rootScope=o,i.$location=s,i.$filter=r,i.$log=t,i.init(),i.loadData(),i.attachListeners(),i.$rootScope.focusMainContent(),t.debug("RankingPageController")}angular.module("dialoga").controller("RankingPageController",a),a.$inject=["DialogaService","$scope","$rootScope","$location","$filter","$log"],a.prototype.init=function(){var a=this;a.page=1,a.per_page=10,a.themes=null,a.selectedTheme=null,a.filtredPrograms=null,a.selectedProgram=null,a.filtredProposals=null,a.query=null,a.search=a.$location.search(),a.slug=a.$location.$$path,a.search.tema&&(a._filtredByThemeSlug=a.search.tema),a.search.programa&&(a._filtredByProgramSlug=a.search.programa),(a.search.tema||a.search.programa)&&(a.loadingFilter=!0),a.loading=null,a.error=null},a.prototype.loadData=function(){var a=this;a.loading=!0,a.loadingThemes=!0,a.DialogaService.getThemes(function(e){a.themes=e,a.loadingThemes=!1;var o=null;if(a.search.tema||a._filtredByThemeSlug){var s=a.themes.filter(function(e){return e.slug===a.search.tema||e.slug===a._filtredByThemeSlug});s&&s.length>0&&(o=s[0],a.selectedTheme=o)}o||(a.selectedTheme=a.themes[Math.floor(Math.random()*a.themes.length)]);var r=a.selectedTheme.id;a.loadPrograms(r,function(){a.loading=!1,a.loadingFilter=!1})},function(e){a.error=e,a.$log.error(e),a.loadingThemes=!1,a.loading=!1})},a.prototype.loadPrograms=function(a,e){var o=this;o.DialogaService.getProgramsByThemeId(a,function(a){o.filtredPrograms=a;var s=null;if(o.search.programa||o._filtredByProgramSlug){var r=o.filtredPrograms.filter(function(a){return a.slug===o.search.programa||a.slug===o._filtredByProgramSlug});r&&r.length>0&&(s=r[0],o.selectedProgram=s)}s||(o.selectedProgram=o.filtredPrograms[Math.floor(Math.random()*o.filtredPrograms.length)]),e&&e()},function(a){o.$log.error(a),e&&e()})},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("change-selectedCategory",function(e,o){a.selectedTheme=o}),a.$scope.$watch("pageRanking.selectedTheme",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),!a.loadingFilter&&a.selectedTheme&&a.selectedTheme.id&&a.loadPrograms(a.selectedTheme.id,function(){a.filterProposals()})}),a.$scope.$on("change-selectedTopic",function(e,o){a.selectedProgram=o}),a.$scope.$watch("pageRanking.selectedProgram",function(e){a.search.programa=e?e.slug:null,a.$location.search("programa",a.search.programa),a.loadingFilter||a.filterProposals()}),a.$scope.$watch("pageRanking.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.loadingFilter||a.filterProposals()})},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.selectedTheme=null},a.prototype.changePage=function(a){var e=this;e.page=a,e.filterProposals(a)},a.prototype.filterProposals=function(a,e){var o=this;if(o.loadingProposals)return void o.$log.debug("Content is not loaded yet.");var s=a||o.page,r=e||o.per_page,t=o.query,i=o.selectedProgram,n={page:s,per_page:r};i&&(n.parent_id=i.id),t&&(n.query=t),o.loadingProposals=!0,o.DialogaService.searchProposals(n,function(a){o.total_proposals=parseInt(a._obj.headers("total")),o.filtredProposals=a.articles,o.loadingProposals=!1},function(a){o.error=a,o.$log.error(a),o.loadingProposals=!1})}}(),function(){"use strict";function a(a,e,o,s,r,t){var i=this;i.DialogaService=a,i.$scope=e,i.$rootScope=o,i.$location=s,i.$filter=r,i.$log=t,i.init(),i.loadData(),i.attachListeners(),i.$rootScope.focusMainContent(),i.$log.debug("ProgramasPageController")}angular.module("dialoga").controller("ProgramasPageController",a),a.$inject=["DialogaService","$scope","$rootScope","$location","$filter","$log"],a.prototype.init=function(){var a=this;a.themes=null,a.selectedTheme=null,a.programs=null,a.filtredPrograms=null,a.query=null,a.search=a.$location.search(),a.search.tema&&(a._filtredByThemeSlug=a.search.tema),a.search.filtro&&(a._filtredByQuery=a.search.filtro),(a.search.tema||a.search.filtro)&&(a.loadingFilter=!0),a.loading=null,a.error=null},a.prototype.loadData=function(){var a=this;a.loading=!0,a.loadingPrograms=!0,a.DialogaService.getPrograms(function(e){a.programs=e,a.filtredPrograms=a.programs,a.loadingPrograms=!1,a.filter()},function(e){a.error=e,a.$log.error(e),a.loadingPrograms=!1}),a.loadingThemes=!0,a.DialogaService.getThemes(function(e){a.themes=e,a.loadingThemes=!1,a.filter()},function(e){a.error=e,a.$log.error(e),a.loadingThemes=!1})},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("change-selectedCategory",function(e,o){a.selectedTheme=o,a.$log.debug("vm.selectedTheme",a.selectedTheme)}),a.$scope.$watch("pageProgramas.selectedTheme",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),a.loadingFilter||(a.filtredPrograms=a.getFiltredPrograms())}),a.$scope.$watch("pageProgramas.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.loadingFilter||(a.filtredPrograms=a.getFiltredPrograms())})},a.prototype.filter=function(){var a=this;if(a.loadingThemes||a.loadingPrograms)return void a.$log.info("No programs or themes loaded yet. Abort.");if(a._filtredByThemeSlug){var e=a._filtredByThemeSlug;a.DialogaService.getThemeBySlug(e,function(e){a.selectedTheme=e},function(e){a.$log.error('Error when try to "getThemeBySlug"',e)})}a._filtredByQuery&&(a.query=a._filtredByQuery),(a._filtredByThemeSlug||a._filtredByQuery)&&(a.filtredPrograms=a.getFiltredPrograms(),a.loadingFilter=!1)},a.prototype.submitSearch=function(){var a=this;a.loadingFilter=!0;var e=angular.element("#search-result");e&&e.length>0?(angular.element("html,body").animate({scrollTop:e.offset().top},"fast"),a.filtredPrograms=a.getFiltredPrograms()):a.$log.warn("#search-result element not found.")},a.prototype.showAllPrograms=function(a){var e=this;a.stopPropagation(),e.resetFilterValues(),e._showAllFlag=!0,e.filtredPrograms=e.getFiltredPrograms()},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.selectedTheme=null},a.prototype.getFiltredPrograms=function(){var a=this;if(!a.programs)return a.$log.info("No programs loaded yet. Abort."),null;var e=a.programs,o=e,s=a.query,r=a.selectedTheme,t=a.$filter("filter");return r&&(o=a._filterByCategory(o,r)),s&&(o=t(o,s,!1)),s||r||!a._showAllFlag||(o=a._balanceByCategory(o)),o},a.prototype._filterByCategory=function(a,e){var o=this;if(a=a||[],!e)return a;for(var s=[],r=0;r<a.length;r++){var t=a[r];t.categories&&0!==t.categories.length?t.categories[0].slug===e.slug&&s.push(t):o.$log.warn("Program without theme (category)",t.slug)}return s},a.prototype._balanceByCategory=function(a){for(var e=this,o=[],s={},r=0;r<a.length;r++){var t=a[r];if(t.categories&&0!==t.categories.length){var i=t.categories[0].slug;s[i]||(s[i]=[]),s[i].push(t)}else e.$log.warn("Program without theme (category)",t.slug)}for(var n=null,l=null,c=!0;c;){var d=!1;n=null,l=null;for(n in s)if(s.hasOwnProperty(n)&&(l=s[n],l.length>0)){var p=l.pop();o.push(p),d=!0}d||(c=!1)}return o}}(),function(){"use strict";function a(a,e,o,s,r,t,i,n,l,c,d){var p=this;p.DialogaService=a,p.PATH=e,p.VOTE_OPTIONS=o,p.PROPOSAL_STATUS=s,p.$state=r,p.$location=t,p.$scope=i,p.$rootScope=n,p.$element=l,p.$sce=c,p.$log=d,p.init(),p.loadData(),p.attachListeners(),p.$rootScope.focusMainContent(),p.$log.debug("ProgramaPageController")}angular.module("dialoga").controller("ProgramaPageController",a),a.$inject=["DialogaService","PATH","VOTE_OPTIONS","PROPOSAL_STATUS","$state","$location","$scope","$rootScope","$element","$sce","$log"],a.prototype.init=function(){var a=this;a.article=null,a.category=null,a.loading=null,a.loadingTopProposals=null,a.loadingProposalBox=null,a.sendProposalRedirectURI=null,a.showDetailAboutArchived=!1,a.search=a.$location.search(),a.error=!1},a.prototype.loadData=function(){var a=this;a.loading=!0,a.proposalStatus=null;var e=a.$state.params.slug;return e?void a.DialogaService.getProgramBySlug(e,function(o){a.article=o,a.category=a.article.categories[0],a.sendProposalRedirectURI="state=programa&task=send-proposal&slug="+e,a.$rootScope.contentTitle=a.article.title,!a.banner&&a.article.image&&(a.banner={src:a.PATH.image+a.article.image.url,alt:"Imagem de destaque do conteúdo"}),a.article.body&&!a.article.bodyTrusted&&(a.article.bodyTrusted=a.$sce.trustAsHtml(a.article.body)),a.loadingTopProposals=!0,a.DialogaService.getProposalsByTopicIdRanked(a.article.id,{limit:5},function(e){if(a.total_proposals=parseInt(a.article.children_count),a.proposals=e.articles?e.articles:e.proposals,a.proposalsTopFive=a.proposals.slice(0,5),a.proposalsTopRated=a.proposals.slice(0,3),a.loadingTopProposals=!1,a.article.archived&&a.search.proposal_id){for(var o=!1,s=parseInt(a.search.proposal_id),r=a.proposalsTopRated.length-1;r>=0;r--){var t=a.proposalsTopRated[r];if(t.id===s){o=!0;break}}if(!o)return void a.$log.debug("Proposal is not one of top 3.");a.$rootScope.findElAsyncAndFocus(".sub-section-"+s)}for(var i=a.proposalsTopRated.length-1;i>=0;i--){var n=a.proposalsTopRated[i];n.body=n&&n.body&&n.body.length>0?String(n.body).replace(/<[^>]+>/gm,""):a.banner.src}},function(e){a.$log.error(e),a.loadingTopProposals=!1}),a.article.archived||(a.search.proposal_id?a.loadProposalById(a.search.proposal_id):a.loadRandomProposal()),a.loading=!1},function(e){a.$log.error(e),a.error=e,a.loading=!1}):(a.$log.warn("slug not defined."),a.$log.info("Rollback to home page."),void a.$state.go("inicio",{},{location:"replace"}))},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("proposal-carousel:showProposalsList",function(){a.showProposalsList()}),a.$scope.$on("cadastro-proposa:startSendProposal",function(e,o){a.proposalStatus=a.PROPOSAL_STATUS.SENDING;var s=a.article.categories[0].id;a.DialogaService.createProposal(o,a.article.id,s,function(e){a.$log.debug("response",e),a.proposalStatus=a.PROPOSAL_STATUS.SUCCESS},function(e){a.$log.error(e),a.error=e,400===a.error.code&&(angular.equals(e.message,"Resumo é muito longo (máximo: 200 caracteres)")?a.error.message="Proposta muito longa (máximo: 200 caracteres)":(a.error.message="",a.error.message+="Não foi possível enviar a proposta.<br>",a.error.message+="Este problema já foi registrado em nossos servidores.<br>",a.error.message+="Por favor, tente novamente mais tarde.")),a.proposalStatus=a.PROPOSAL_STATUS.ERROR})})},a.prototype.loadProposalById=function(a){var e=this;e.loadingProposalBox=!0,e.DialogaService.getProposalById(a,{limit:"1"},e._handleSuccessOnGetProposal.bind(e),e._handleErrorOnGetProposal.bind(e))},a.prototype.loadRandomProposal=function(){var a=this;a.loadingProposalBox=!0,a.DialogaService.getProposalsByTopicId(a.article.id,{order:"random()",limit:"1",t:Date.now()},a._handleSuccessOnGetProposal.bind(a),a._handleErrorOnGetProposal.bind(a))},a.prototype._handleSuccessOnGetProposal=function(a){var e=this;if(a&&a.articles){var o=a.articles.length;e.randomProposal=a.articles[Math.floor(Math.random()*o)],e.loadingProposalBox=!1,e.$scope.$broadcast("proposal-box:proposal-loaded",{success:!0})}e.search.proposal_id&&e.$rootScope.findElAsyncAndFocus(".focused-proposal")},a.prototype._handleErrorOnGetProposal=function(a){var e=this;e.$log.error(a),e.$scope.$broadcast("proposal-box:proposal-loaded",{error:!0})},a.prototype.voteSkip=function(){var a=this;a.loadRandomProposal()},a.prototype.vote=function(a,e){var o=this;return o.article.archived?void o.$log.info("Article archived. Abort."):e===o.VOTE_OPTIONS.SKIP?void o.voteSkip():void o.DialogaService.voteProposal(a,{value:e}).then(function(a){o.$log.debug("voteProposal response",a),a.success=!0,o.$scope.$broadcast("proposal-box:vote-response",a)},function(a){o.$log.debug("voteProposal error",a),a.error=!0,o.$scope.$broadcast("proposal-box:vote-response",a)})["finally"](function(a){o.$log.debug("voteProposal finally",a)})},a.prototype.showProposalsList=function(){var a=this;a.findAndShow("#section-proposal-list")},a.prototype.hideProposalsList=function(){var a=this;a.findAndHide("#section-proposal-list")},a.prototype.showProposalForm=function(){var a=this;return a.article.archived?void a.$log.info("Article archived. Abort."):void a.findAndShow("#section-proposal-form")},a.prototype.hideProposalForm=function(){var a=this;a.findAndHide("#section-proposal-form")},a.prototype.findAndShow=function(a){var e=this,o=e.$element.find(a);o.slideDown(),angular.element("html,body").animate({scrollTop:o.offset().top},"fast")},a.prototype.findAndHide=function(a){var e=this;e.$element.find(a).slideUp()},a.prototype.sendAnotherProposal=function(){var a=this;a.proposalStatus=null},a.prototype.toggleContentVisibility=function(){var a=this,e=angular.element(".section-content");return e&&0!==e.length?void(e.is(":visible")?e.slideUp():(e.slideDown(),angular.element("html,body").animate({scrollTop:e.offset().top},"fast"))):void a.$log.warn('".section-content" not found.')},a.prototype.toggleResponseVisibility=function(a){function e(){var e=angular.element(".gov-response-"+a.id);e.is(":visible")?e.slideUp():e.slideDown(100,function(){angular.element("html,body").animate({scrollTop:e.offset().top},"fast")})}var o=this;return a?void(a.response?e():(a.response={loading:!0,error:!1,content:null},o.DialogaService.getResponseByProposalId(a.proposal_id).then(function(o){a.response.content=o.articles[0].body,e()})["catch"](function(){a.response.error=!1})["finally"](function(){a.response.loading=!1}))):void o.$log.error("Error - proposal is:",a)}}(),function(){"use strict";function a(a,e,o,s,r,t){var i=this;i.DialogaService=a,i.$scope=e,i.$rootScope=o,i.$location=s,i.$filter=r,i.$log=t,i.init(),i.loadData(),i.attachListeners(),i.$rootScope.focusMainContent(),t.debug("PropostasPageController")}angular.module("dialoga").controller("PropostasPageController",a),a.$inject=["DialogaService","$scope","$rootScope","$location","$filter","$log"],a.prototype.init=function(){var a=this;a.page=1,a.per_page=10,a.themes=null,a.selectedTheme=null,a.filtredProposals=null,a.query=null,a.search=a.$location.search(),a.search.tema&&(a._filtredByThemeSlug=a.search.tema),a.search.filtro&&(a._filtredByQuery=a.search.filtro),(a.search.tema||a.search.filtro)&&(a.loadingFilter=!0),a.loading=null,a.error=null},a.prototype.loadData=function(){var a=this;a.loading=!0,a.loadingThemes=!0,a.DialogaService.getThemes(function(e){a.themes=e,a.loadingThemes=!1,a.loading=!1,a.filter()},function(e){a.error=e,a.$log.error(e),a.loadingThemes=!1,a.loading=!1})},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("change-selectedCategory",function(e,o){a.selectedTheme=o}),a.$scope.$watch("pagePropostas.selectedTheme",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),a.page=1,a.loadingFilter||a.filterProposals()}),a.$scope.$watch("pagePropostas.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.loadingFilter||a.filterProposals()})},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.selectedTheme=null},a.prototype.changePage=function(a){var e=this;e.page=a,e.filterProposals(a)},a.prototype.filter=function(){var a=this;if(a.loadingThemes||a.loadingProposals)return void a.$log.info("No proposals or themes loaded yet. Abort.");if(a._filtredByThemeSlug){var e=a._filtredByThemeSlug;a.DialogaService.getThemeBySlug(e,function(e){a.selectedTheme=e},function(e){a.$log.error('Error when try to "getThemeBySlug"',e)})}a._filtredByQuery&&(a.query=a._filtredByQuery),(a._filtredByThemeSlug||a._filtredByQuery)&&(a.filterProposals(),a.loadingFilter=!1)},a.prototype.filterProposals=function(a,e){var o=this;if(o.loadingProposals)return void o.$log.debug("Content is not loaded yet.");var s=a||o.page,r=e||o.per_page,t=o.query,i={page:s,per_page:r};o.selectedTheme&&(i.category_ids=o.selectedTheme.id),t&&(i.query=t),o.loadingProposals=!0,o.DialogaService.searchProposals(i,function(a){o.total_proposals=parseInt(a._obj.headers("total")),o.filtredProposals=a.articles,o.loadingProposals=!1},function(a){o.error=a,o.$log.error(a),o.loadingProposals=!1})},a.prototype.submitSearch=function(){var a=this,e=angular.element("#search-result");e&&e.length>0?(angular.element("html,body").animate({scrollTop:e.offset().top},"fast"),a.filterProposals()):a.$log.warn("#search-result element not found.")}}(),function(){"use strict";function a(a,e,o,s){var r=this;r.DialogaService=a,r.$log=s,r.init(),r.loadData(),r.$log.debug("SitemapPageController")}function e(a){for(var e={},o=a.length,s=0;o>s;s++){var r=a[s],t=r.categories[0],i=e[t.slug]||{};angular.isArray(i.programs)||(i=t,i.programs=[],e[i.slug]=i),i.programs.push(r)}return e}angular.module("dialoga").controller("SitemapPageController",a),a.$inject=["DialogaService","$state","$sce","$log"],a.prototype.init=function(){var a=this;a.programsPerThemes=null},a.prototype.loadData=function(){var a=this;a.DialogaService.getPrograms(function(o){a.programsPerThemes=e(o)},function(e){a.error=e,a.$log.error(e)})}}(),function(){"use strict";function a(a,e,o,s,r,t,i){var n=this;n.DialogaService=a,n.$scope=e,n.$location=o,n.$filter=s,n.$sce=r,n.$timeout=t,n.$log=i,n.init(),n.loadData(),n.attachListeners(),n.$log.debug("InicioPageController")}function e(a){for(var e=[],o={},s=0;s<a.length;s++){var r=a[s],t=r.categories[0].slug;o[t]||(o[t]=[]),o[t].push(r)}for(var i=null,n=null,l=!0;l;){var c=!1;i=null,n=null;for(i in o)if(o.hasOwnProperty(i)&&(n=o[i],n.length>0)){var d=n.pop();e.push(d),c=!0}c||(l=!1)}return e}function o(){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}function s(){var a=angular.element.find(".js-iframe iframe"),e=window.YT.Player;new e(a[0],{events:{onReady:r}})}function r(a){a.target.playVideo(),t(1e3)}function t(a){var e=angular.element.find(".video-background");angular.element(e).fadeOut(a||100)}angular.module("dialoga").controller("InicioPageController",a),a.$inject=["DialogaService","$scope","$location","$filter","$sce","$timeout","$log"],a.prototype.init=function(){var a=this;a.article=null,a.events=null,a.featuredEvent=null,a.bannerRespostas=!0,a.themes=null,a.selectedTheme=null,a.programs=null,a.filtredPrograms=null,a.query=null,a.scroll=null,a.search=a.$location.search(),a.search.tema&&(a._filtredByThemeSlug=a.search.tema),a.search.filtro&&(a._filtredByQuery=a.search.filtro),(a.search.tema||a.search.filtro)&&(a.loadingFilter=!0),a.search.scroll&&(a.scroll=a.search.scroll),a.loading=null,a.error=null},a.prototype.loadData=function(){function a(){o.loadingThemes=!0,o.DialogaService.getThemes(function(a){o.themes=a,o.loadingThemes=!1,o.filter()},function(a){o.$log.error("Error on getThemes.",a),o.loadingThemes=!1,o.errorThemes=a}),o.loadingPrograms=!0,o.DialogaService.getProgramsRandom({},function(a){o.programs=o.article.children,o.filtredPrograms=a.articles,o.loadingPrograms=!1,o.filter(),e()},function(a){o.$log.error("Error on getPrograms.",a),o.loadingPrograms=!1,o.errorPrograms=a})}function e(){o._scrollHandler()}var o=this;o.loading=!0,o.DialogaService.getHome(function(e){o.article=e.article,o.article.videoIsLoaded&&t(2e3),a(),o.loading=!1},function(a){o.$log.error("Error on getHome.",a),o.loading=!1,o.error=a}),o.loadingEvents=!0,o.DialogaService.getEvents().then(function(a){o.$log.debug("getEvents.success",a),o.events=a.articles;var e=o.$filter("orderBy");o.featuredEvent=e(o.events,"start_date",!1)[0]},function(a){o.$log.debug("Error on getEvents.",a),o.eventsError=a},function(a){o.$log.debug("{UPDATE}",a)})["finally"](function(a){o.$log.debug("{FINALLY}",a),o.loadingEvents=!1})},a.prototype._scrollHandler=function(){var a=this;if(a.search.scroll){var e=a.search.scroll,o=0;if(angular.isNumber(e))o=parseInt(e);else{var s=angular.element("#"+a.search.scroll);s&&s.length>0?o=s.offset().top:a.$log.warn("element not found:",a.search.scroll)}a.$timeout(function(){angular.element("html,body").animate({scrollTop:o},"fast")},0)}},a.prototype.attachListeners=function(){var a=this;a.$scope.$on("change-selectedCategory",function(e,o){a.selectedTheme=o}),a.$scope.$watch("pageInicio.selectedTheme",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),a.loadingFilter||(a.filtredPrograms=a.getFiltredPrograms())}),a.$scope.$watch("pageInicio.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.loadingFilter||(a.filtredPrograms=a.getFiltredPrograms())})},a.prototype.showVideo=function(){var a=this;return a.article.videoIsLoaded?(t(0),void a.$log.debug("The content already cached. Show-it!")):(o(),window.onYouTubeIframeAPIReady=window.onYouTubeIframeAPIReady||s,window.onYouTubePlayerReady=window.onYouTubePlayerReady||r,void(a.article.videoIsLoaded=!0))},a.prototype.showEventVideo=function(){var a=this;t(0),a.featuredEvent.canView=!0,a.featuredEvent.bodyTrusted=a.$sce.trustAsHtml(a.featuredEvent.body)},a.prototype.submitSearch=function(){var a=this;a.loadingFilter=!0;var e=angular.element("#search-result");e&&e.length>0?(angular.element("html,body").animate({scrollTop:e.offset().top},"fast"),a.filtredPrograms=a.getFiltredPrograms()):a.$log.warn("#search-result element not found.")},a.prototype.filter=function(){var a=this;if(a.loadingThemes||a.loadingPrograms)return void a.$log.info("No programs or themes loaded yet. Abort.");if(a._filtredByThemeSlug){var e=a._filtredByThemeSlug;a.DialogaService.getThemeBySlug(e,function(e){a.selectedTheme=e},function(e){a.$log.error('Error when try to "getThemeBySlug"',e)})}a._filtredByQuery&&(a.query=a._filtredByQuery),(a._filtredByThemeSlug||a._filtredByQuery)&&(a.filtredPrograms=a.getFiltredPrograms(),a.loadingFilter=!1)},a.prototype.showAllPrograms=function(a){var e=this;a.stopPropagation(),e.resetFilterValues(),e.filtredPrograms=e.getFiltredPrograms()},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.selectedTheme=null},a.prototype.getFiltredPrograms=function(){var a=this;if(!a.programs)return a.$log.debug("No programs loaded yet. Abort."),null;var o=a.programs,s=o,r=a.query,t=a.selectedTheme,i=a.$filter("filter");return a.loadingFilter=!0,t&&(s=a._filterByCategory(s,t)),r&&(s=i(s,r,!1)),r||t||(s=e(s)),a.loadingFilter=!1,s},a.prototype._filterByCategory=function(a,e){var o=this;if(a=a||[],!e)return a;for(var s=[],r=0;r<a.length;r++){var t=a[r];t.categories&&0!==t.categories.length?t.categories[0].slug===e.slug&&s.push(t):o.$log.warn("Program without theme (category)",t.slug)}return s}}(),function(){"use strict";function a(a,e,o,s){s.debug("DuvidasPageController");var r=this;r.DialogaService=a,r.$interval=e,r.$window=o,r.$log=s,r.init(),r.loadData(),r.attachListeners()}angular.module("dialoga").controller("DuvidasPageController",a),a.$inject=["DialogaService","$interval","$window","$log"],a.prototype.init=function(){var a=this;a.loadingQuestions=!1,a.error=!1,a.sendingContactForm=!1,a.questions=[]},a.prototype.loadData=function(){var a=this;a.loadingQuestions=!0,a.DialogaService.getQuestions().then(function(e){a.questions=e.articles})["catch"](function(e){a.$log.error("error",e)})["finally"](function(){a.loadingQuestions=!1})},a.prototype.attachListeners=function(){var a=this;a._attachCaptcha()},a.prototype._attachCaptcha=function(){var a=this,e=null;e=a.$interval(function(){var o=angular.element("#serpro_captcha");o&&o.length>0&&(a.$window.initCaptcha(o[0]),a.$interval.cancel(e),e=void 0)},200)},a.prototype.submitContactForm=function(a,e){var o=this;o.$log.debug("submitContactForm contactForm",e),o.sendingContactForm=!0;var s={name:e.inputName.$modelValue,email:e.inputEmail.$modelValue,subject:e.inputSubject.$modelValue,message:e.inputMessage.$modelValue},r=a.target,t=angular.element(r),i=t.find('[name="txtToken_captcha_serpro_gov_br"]');s.txtToken_captcha_serpro_gov_br=i.val(),o.DialogaService.sendContactForm(s).then(function(a){o.$log.debug("sendContactForm success",a),o.successMessage="Mensagem enviada com sucesso!"},function(a){o.$log.warn("sendContactForm error",a),o.errorMessage="Erro ao enviar mensagem. Tente novamente mais tarde."})["finally"](function(a){o.$log.debug("sendContactForm finally",a),o.sendingContactForm=!1})}}(),function(){"use strict";function a(a,e,o){var s=this;s.AuthService=a,s.$state=e,s.$log=o,s.init(),s.$log.debug("NewPasswordPageController")}angular.module("dialoga").controller("NewPasswordPageController",a),a.$inject=["AuthService","$state","$log"],a.prototype.init=function(){var a=this;a.loading=!1,a.submitNewPasswordSuccess=!1,a.submitNewPasswordError=!1,a.token=a.$state.params.token},a.prototype.submitNewPassword=function(a,e){var o=this;if(!e.$valid)return void o.$log.warn("Form validation: fail.");o.loading=!0,o.submitNewPasswordSuccess=!1,o.submitNewPasswordError=!1;var s={code:o.token,newPassword:e.newPassword.$modelValue,newPasswordConfirmation:e.newPasswordConfirmation.$modelValue},r=o.AuthService.changePassword(s);r.then(function(a){o.$log.debug("new password success:",a),o.submitNewPasswordSuccess=!0})["catch"](function(a){o.$log.debug("new password error:",a),o.submitNewPasswordError=!0,o.submitNewPasswordErrorMessage=a.data.message||"Não foi possível configurar nova senha.",a.status>=500&&a.status<600&&(o.internalError=!0)})["finally"](function(){o.loading=!1})}}(),function(){"use strict";function a(a,e,o,s,r,t,i,n,l,c,d,p,g){var u=this;u.$scope=a,u.$rootScope=e,u.$window=o,u.$location=s,u.$state=r,u.$timeout=t,u.$interval=i,u.APP=n,u.AUTH_EVENTS=l,u.AuthService=c,u.DialogaService=d,u.Session=p,u.$log=g,u.init(),u.loadData(),u.attachListeners(),u.$rootScope.focusMainContent(),u.$log.debug("AuthPageController")}function e(a){return angular.element(a.target).find('[name="txtToken_captcha_serpro_gov_br"]').val()}angular.module("dialoga").controller("AuthPageController",a),a.$inject=["$scope","$rootScope","$window","$location","$state","$timeout","$interval","APP","AUTH_EVENTS","AuthService","DialogaService","Session","$log"],a.prototype.init=function(){var a=this;a.signin={},a.signup={},a.terms=null,a.loadingTerms=null,a.delay=3,a.countdown=0,a.search=a.$location.search();var e=a.search.redirect_uri||"";e&&e.length>0&&(a.params=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'),a.hasRedirect=!0),a.currentUser=a.Session.getCurrentUser(),a.$scope.$on(a.AUTH_EVENTS.loginSuccess,function(){a.currentUser=a.Session.getCurrentUser()}),a.$scope.$on(a.AUTH_EVENTS.logoutSuccess,function(){a.clearMessages(),a.currentUser=a.Session.getCurrentUser(),a._attachCaptcha()})},a.prototype.loadData=function(){var a=this;a.loadingTerms=!0,a.DialogaService.getTerms(function(e){a.loadingTerms=!1,a.terms=e.article},function(e){a.loadingTerms=!1,a.error=e})},a.prototype.attachListeners=function(){var a=this;a.$scope.$on(a.AUTH_EVENTS.registerSuccess,function(e,o){a.$log.debug("[register success] response",o)}),a.$scope.$on(a.AUTH_EVENTS.registerFailed,function(e,o){a.$log.debug("[register error] response",o)}),a.$scope.$on("oauthClientPluginResult",function(e,o){a.$log.debug("response",o);var s=o.data.logged_in,r=o.data.private_token;if(o.data.user&&!o.data.user.private_token&&(o.data.user.private_token=r),s){var t=a.Session.create(o.data);a.$rootScope.currentUser=t,a.$rootScope.$broadcast(a.AUTH_EVENTS.loginSuccess,t)}}),a._attachCaptcha()},a.prototype._attachCaptcha=function(){var a=this,e=null;e=a.$interval(function(){var o=angular.element("#serpro_captcha");o&&o.length>0&&(a.$window.initCaptcha(o[0]),a.$interval.cancel(e),e=void 0)},200)},a.prototype.onClickLogout=function(){var a=this;a.AuthService.logout()},a.prototype.submitSignup=function(a,o){var s=this;o.txtToken_captcha_serpro_gov_br=e(a),s.AuthService.register(o).then(function(){s.signupSuccess=!0},function(a){if(s.signupError=!0,s.signupErrorTitle="Erro!",s.signupErrorMessage=a.data.message,a.status>=400&&a.status<500){var e=JSON.parse(a.data.message);e&&e.email&&(s.signupErrorMessage="E-mail já está em uso.")}a.status>=500&&a.status<600&&(s.internalError=!0)})},a.prototype.submitSignin=function(a){var e=this;e.AuthService.login(a).then(function(){e.showSigninSuccessMessage(),e._startRedirect()},function(a){e.$log.error('Error on "submitSignin"',a),e.signinError=!0,a.status>=400&&a.status<500&&(e.signinErrorTitle="Erro!",e.signinErrorContent=a.data.message,401===a.status&&(e.signinErrorTitle="Acesso não autorizado!",e.signinErrorContent="E-mail ou senha incorretos."))})},a.prototype.submitRecover=function(a,o){var s=this;s.loadingSubmitRecover=!0;var r={login:o.login.$modelValue,captcha_text:o.captcha_text.$modelValue,txtToken_captcha_serpro_gov_br:e(a)},t=s.AuthService.forgotPassword(r);t.then(function(a){s.$log.debug("recover success.response",a),s.recoverSuccess=!0}),t["catch"](function(a){s.$log.debug("recover error.response",a),
s.recoverError=!0,s.recoverErrorMessage=a.data.message,a.status>=400&&a.status<500&&404===a.status&&(s.recoverErrorMessage="E-mail não cadastrado no Dialoga Brasil."),a.status>=500&&a.status<600&&(s.internalError=!0)}),t["finally"](function(){s.loadingSubmitRecover=!1})},a.prototype.submitConfirmationForm=function(a,o){var s=this,r={login:o.login.$modelValue,captcha_text:o.captcha_text.$modelValue,txtToken_captcha_serpro_gov_br:e(a)};s.AuthService.resendConfirmation(r).then(function(a){s.$log.debug("resendConfirmation success.response",a),s.resendConfirmationSuccess=!0;var e=a.data.users[0];e&&e.activated===!0?(s.resendConfirmationSuccessTitle="Usuário já está ativo!",s.resendConfirmationSuccessMessage="O e-mail informado já foi confirmado."):(s.resendConfirmationSuccessTitle="Pronto!",s.resendConfirmationSuccessMessage="Em instantes você receberá em seu e-mail um link para confirmar o seu cadastro.")},function(a){s.$log.debug("resendConfirmation error.response",a),s.resendConfirmationError=!0,s.resendConfirmationErrorMessage=a.data.message,a.status>=500&&a.status<600&&(s.internalError=!0)})["catch"](function(a){s.$log.debug("resendConfirmation catch.error",a)})},a.prototype.clearMessages=function(){var a=this;a.signupSuccess=!1,a.signinSuccess=!1,a.confirmSuccess=!1,a.signinError=!1,a.signupError=!1},a.prototype.showSigninSuccessMessage=function(){var a=this;a.signinSuccess=!0,a.successMessage="Login efetuado com sucesso!"},a.prototype._startRedirect=function(){var a=this;if(!a.hasRedirect)return void a.$log.debug("No redirect params defined.");a.countdown=a.delay;var e=null;e=a.$interval(function(){a.countdown--,a.countdown<=0&&(a.$interval.cancel(e),e=void 0)},1e3),a.$timeout(function(){var e=a.params.state;switch(e){case"inicio":a.$state.go(e,{event_id:a.params.event_id,task:a.params.task});break;case"programa":a.$state.go(e,{slug:a.params.slug,task:a.params.task,proposal_id:a.params.proposal_id});break;default:a.$log.debug("State not handled yet:",e)}},1e3*a.delay)},a.prototype.authWithFacebook=function(){var a=this,e="http://hom.login.dialoga.gov.br/plugin/oauth_client/facebook?oauth_client_popup=true&id="+a.APP.facebook_app_id;a.$window.oauthClientAction(e)},a.prototype.authWithGooglePlus=function(){var a=this,e="http://hom.login.dialoga.gov.br/plugin/oauth_client/google_oauth2?oauth_client_popup=true&id="+a.APP.google_app_id;a.$window.oauthClientAction(e)}}(),function(){"use strict";function a(a,e,o){var s=this;s.AuthService=a,s.$state=e,s.$log=o,s.init(),s.doActivation(),s.$log.debug("ActivePageController")}angular.module("dialoga").controller("ActivePageController",a),a.$inject=["AuthService","$state","$log"],a.prototype.init=function(){var a=this;a.loading=!0,a.activation_code=a.$state.params.activation_code},a.prototype.doActivation=function(){var a=this;a.AuthService.activate(a.activation_code).then(function(e){a.$log.info("response",e),a.successMessageTitle="Pronto!",a.successMessageContent="Conta ativada com sucesso!"},function(e){a.$log.error("response",e),a.errorMessageTitle="Erro!",(e.status>=500||e.status<600)&&(a.errorMessageContent="Código de ativação incorreto.")})["finally"](function(e){a.$log.debug("finally",e),a.loading=!1})}}(),function(){"use strict";function a(a,e,o,s,r){var t=this;t.DialogaService=a,t.$rootScope=e,t.$state=o,t.$sce=s,t.$log=r,t.init(),t.loadData(),t.$rootScope.focusMainContent(),t.$log.debug("ArticlePageController")}angular.module("dialoga").controller("ArticlePageController",a),a.$inject=["DialogaService","$rootScope","$state","$sce","$log"],a.prototype.init=function(){var a=this;a.page=a.$state.current.name,a.article=null,a.loading=!0,a.$log.debug("vm.page",a.page)},a.prototype.loadData=function(){function a(a){o.loading=!1,o.article=a.article}function e(a){o.loading=!1,o.error=a}var o=this;switch(o.page){case"acessibilidade":o.DialogaService.getAcessibility(a,e);break;case"sobre":o.DialogaService.getAbout(a,e);break;case"termos-de-uso":o.DialogaService.getTerms(a,e);break;default:o.$log.debug("Page not handled:",o.page)}}}(),function(){"use strict";function a(a,e,o){function s(e,o){return a.get(e,o).then(t)["catch"](i)}function r(e,o){return a.post(e,o).then(t)["catch"](i)}function t(a){return o.debug("[SUCCESS]",a),a.data._obj=a,a.data}function i(a){return o.debug("[ERROR]",a),o.error("XHR Failed on Service.\n"+angular.toJson(a.data,!0)),e.reject(angular.isObject(a.data)?a.data:"An unknown error occurred.")}o.debug("UtilService");var n={get:s,post:r,handleSuccess:t,handleError:i};return n}angular.module("dialoga").factory("UtilService",a),a.$inject=["$http","$q","$log"]}(),function(){"use strict";function a(){function a(a){a.debug("validationMessagesController");var e=this;e.$log=a,e.init()}a.$inject=["$log"],a.prototype.init=function(){var a=this;a.required||(a.required="Ops, o campo é obrigatório."),a.minlength||(a.minlength="O campo deve ser maior."),a.maxlength||(a.maxlength="O campo deve ser menor"),a.email||(a.email="O endereço de e-mail deve ser válido")};var e={restrict:"E",templateUrl:"app/components/validation-messages/validation-messages.html",scope:{field:"=",required:"=",minlength:"=",maxlength:"=",email:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("validationMessages",a)}(),function(){"use strict";function a(){function a(a,e){e.debug("TopicsSelectController");var o=this;o.$rootScope=a,o.$log=e,o.init()}a.$inject=["$rootScope","$log"],a.prototype.init=function(){},a.prototype.selectTopic=function(){var a=this;return null===a.selectedTopic?void a.$log.debug("Default topic selected."):void a.$rootScope.$broadcast("change-selectedTopic",a.selectedTopic)};var e={restrict:"E",templateUrl:"app/components/topics-select/topics-select.html",scope:{topics:"=",selectedTopic:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("topicsSelect",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r){r.debug("TopicListController");var t=this;t.$scope=a,t.$element=e,t.$location=o,t.$filter=s,t.$log=r,t.defaultLimit=6,t.init()}a.$inject=["$scope","$element","$location","$filter","$log"],a.prototype.init=function(){var a=this;if(!a.article)return void a.$log.debug("no article to display. Tip: use a ng-if before use this directive");if(a.categories=a.article.categories,a.programs=a.article.children,a.orderCriteries=[{label:"Título",name:"titulo"},{label:"Tema",name:"tema"},{label:"Aleatório",name:"aleatorio"}],a.filtredProgramList=a.getFiltredPrograms(),a.search=a.$location.search(),a.query=a.search&&a.search.filtro?a.search.filtro:null,a.limitTo=a.search&&a.search.limite?parseInt(a.search.limite,10):a.defaultLimit,a.categoryFilter=a.search&&a.search.tema?a.getCategoryBySlug(a.search.tema):null,a.orderCriteria=a.search&&a.search.ordem?{name:a.search.ordem}:null,a.reverse=a.search&&a.search.reverso?!0:!1,!angular.equals({},a.search)){var e=a.$element;angular.element("html,body").animate({scrollTop:e.offset().top},"slow")}a.$scope.$watch("vm.query",function(e){a.search.filtro=e?e:null,a.$location.search("filtro",a.search.filtro),a.limitTo=a.search.filtro?a.programs.length:a.defaultLimit,a.filtredProgramList=a.getFiltredPrograms()}),a.$scope.$watch("vm.limitTo",function(e){a.search.limite=e&&e!==a.defaultLimit?e:null,a.$location.search("limite",a.search.limite),a.filtredProgramList=a.getFiltredPrograms()}),a.$scope.$watch("vm.categoryFilter",function(e){a.search.tema=e?e.slug:null,a.$location.search("tema",a.search.tema),a.search.tema&&(a.limitTo=a.programs.length),a.filtredProgramList=a.getFiltredPrograms()}),a.$scope.$watch("vm.orderCriteria",function(e){a.search.ordem=e&&e.name?e.name:null,a.$location.search("ordem",a.search.ordem),a.filtredProgramList=a.getFiltredPrograms()}),a.$scope.$watch("vm.reverse",function(e){a.search.reverso=e?e:null,a.$location.search("reverso",a.search.reverso),a.filtredProgramList=a.getFiltredPrograms()})},a.prototype.resetFilterValues=function(){var a=this;a.query=null,a.limitTo=a.defaultLimit,a.categoryFilter=null,a.orderCriteria=null},a.prototype.getIconClasses=function(a){var e=this;return e.$log.debug("[TODO] getIconClasses of category:",a),"glyphicon glyphicon-exclamation-sign"},a.prototype.getCategoryBySlug=function(a){var e=this,o=null;return angular.forEach(e.categories,function(e){e.slug===a&&(o=e)}),o},a.prototype.filterByCategory=function(a,e){var o=this;e.stopPropagation(),o.categoryFilter=a!==o.categoryFilter?a:null},a.prototype.showAll=function(a){var e=this;a.stopPropagation(),e.resetFilterValues(),e.limitTo=e.programs.length},a.prototype.getFiltredPrograms=function(){var a=this,o=a.programs,s=o,r=a.query,t=a.categoryFilter,i=a.orderCriteria?a.orderCriteria:{name:"aleatorio"},n=a.$filter("filter"),l=a.$filter("orderBy"),c=a.$filter("limitTo"),d=a.limitTo?a.limitTo:4;switch(t&&(s=e(s,t)),r&&(s=n(s,r,!1)),i.name){case"titulo":s=l(s,"title",a.reverse);break;case"tema":s=l(s,"categories[0].name",a.reverse);break;case"more_participants":a.$log.info("Criteria not handled yet: ",i);break;case"aleatorio":s=a.filterShuffle(s),a.reverse&&(s=s.slice().reverse());break;default:a.$log.warn("Criteria not matched: ",i)}return s=c(s,d)},a.prototype.filterShuffle=function(a){for(var e=[],s={},r=0;r<a.length;r++){var t=a[r],i=t.categories[0].slug;s[i]||(s[i]=[]),s[i].push(t)}var n=null,l=null;for(n in s)s.hasOwnProperty(n)&&(l=s[n],s[n]=o(l));for(var c=!0;c;){var d=!1;n=null,l=null;for(n in s)if(s.hasOwnProperty(n)&&(l=s[n],l.length>0)){var p=l.pop();e.push(p),d=!0}d||(c=!1)}return e};var s={restrict:"E",templateUrl:"app/components/programas/programas.html",scope:{article:"="},controller:a,controllerAs:"vm",bindToController:!0};return s}function e(a,e){if(a=a||[],!e)return a;for(var o=[],s=0;s<a.length;s++){var r=a[s];r.categories[0].slug===e.slug&&o.push(r)}return o}function o(a){for(var e,o,s=a.length;0!==s;)o=Math.floor(Math.random()*s),s-=1,e=a[s],a[s]=a[o],a[o]=e;return a}angular.module("dialoga").directive("topicList",a)}(),function(){"use strict";function a(){function a(a){a.debug("SocialShareController");var e=this;e.socialVia=e.socialVia||"687948707977695",e.socialUrl=e.socialUrl||"http://hom.dialoga.gov.br/",e.socialImage=e.socialImage||"http://hom.dialoga.gov.br/images/logo.png",e.socialText=e.socialText||"Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA."}var e={restrict:"E",templateUrl:"app/components/social-share/social-share.html",scope:{socialVia:"=",socialUrl:"=",socialImage:"=",socialText:"=",arrowClass:"@"},controller:a,controllerAs:"vm",bindToController:!0};return a.$inject=["$log"],e}angular.module("dialoga").directive("socialShare",a)}(),function(){"use strict";function a(){function a(a){a.debug("ShowMessageController")}a.$inject=["$log"];var e={restrict:"E",templateUrl:"app/components/show-message/show-message.html",scope:{type:"=",message:"=",description:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("showMessage",a)}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/proposal-stats/proposal-stats.html"};return a}angular.module("dialoga").directive("proposalStats",a)}(),function(){"use strict";function a(){function a(a,e,o,s){s.debug("ProposalListController");var r=this;r.$state=a,r.$element=e,r.$timeout=o,r.$log=s,r.init()}function e(){var a=this;a.popover=angular.element(a.$element.find(".btn-question")),a.popover.popover({html:!0,placement:"bottom",animation:!0,title:"Regra de posição das propostas",content:"<p>É calculada pelo saldo de interações das propostas (curtidas - não curtidas) dividido pela diferença de exibições entre elas.</p><p>O objetivo dessa correção é compensar o saldo de interações e a diferença de exibições das propostas que não tiveram muitas oportunidades de visualização ou das propostas que tiveram mais oportunidades de visualização que a média.</p><p>Com essa correção, é possível comparar propostas que entraram em diferentes momentos, durante todo o período da consulta.</p>"})}a.$inject=["$state","$element","$timeout","$log"],a.prototype.init=function(){var a=this;if(!a.proposals)throw{name:"NotDefined",message:'The attribute "proposals" is undefined.'};a.$timeout(function(){e.call(a)},0)},a.prototype.showContent=function(a){var e=this;e.$state.go("programa",{slug:a.parent.slug,proposal_id:a.proposal_id},{location:!0,reload:!0})};var o={restrict:"E",templateUrl:"app/components/proposal-list/proposal-list.html",scope:{proposals:"="},controller:a,controllerAs:"vm",bindToController:!0};return o}angular.module("dialoga").directive("proposalList",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r,t){t.debug("ProposalGridController");var i=this;i.$scope=a,i.$rootScope=e,i.$element=o,i.$location=s,i.$filter=r,i.$log=t,i.init(),i.attachListeners()}a.$inject=["$scope","$rootScope","$element","$location","$filter","$log"],a.prototype.init=function(){},a.prototype.attachListeners=function(){};var e={restrict:"E",templateUrl:"app/components/proposal-grid/proposal-grid.html",scope:{proposals:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("proposalGrid",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r){r.debug("ProposalCarouselController");var t=this;t.$scope=a,t.$state=e,t.$element=o,t.$timeout=s,t.$log=r,t.init()}a.$inject=["$scope","$state","$element","$timeout","$log"],a.prototype.init=function(){var a=this;if(!a.proposals)throw{name:"NotDefined",message:'The attribute "proposals" is undefined.'};a.activeIndex=0,a.archived=a.archived||!1,a.loading=!1,a.proposalsLength=a.proposals.length},a.prototype.swipeLeft=function(){var a=this;a.activeIndex=a.activeIndex<a.proposalsLength-1?++a.activeIndex:0},a.prototype.swipeRight=function(){var a=this;a.activeIndex=a.activeIndex>0?--a.activeIndex:a.proposalsLength-1},a.prototype.switchProposal=function(a){var e=this;a>=0&&a<e.proposalsLength?e.activeIndex=a:e.$log.warn('[switchProposal] "index" not handled:',a)},a.prototype.showProposalsList=function(){var a=this;a.$scope.$emit("proposal-carousel:showProposalsList")},a.prototype.showContent=function(a){var e=this;e.$state.go("programa",{slug:a.parent.slug,proposal_id:a.proposal_id},{location:!0,reload:!0})};var e={restrict:"E",templateUrl:"app/components/proposal-carousel/proposal-carousel.html",scope:{archived:"=",proposals:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("proposalCarousel",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r,t,i,n,l,c,d,p){p.debug("ProposalBoxController");var g=this;g.$scope=a,g.$rootScope=o,g.$state=s,g.$timeout=r,g.$interval=t,g.$window=i,g.VOTE_STATUS=n,g.VOTE_OPTIONS=l,g.AuthService=c,g.$log=p,g.$location=e,g.init(),g.addListeners()}a.$inject=["$scope","$location","$rootScope","$state","$timeout","$interval","$window","VOTE_STATUS","VOTE_OPTIONS","AuthService","DialogaService","$log"],a.prototype.init=function(){var a=this;a.showVote=a.showVote||!1,a.archived=a.archived||!1,a.focus=a.focus||!1,a.STATE=null,a.errorOnSkip=!1,a.showCaptchaForm=null,a.voteProposalRedirectURI=null,a.proposalsImg=null;var e=a.topic.slug,o=a.proposal.id;a.voteProposalRedirectURI="state=programa&task=vote-proposal&slug="+e+"&proposal_id="+o,a.proposalsImg=String(a.proposal.body).replace(/<[^>]+>/gm,""),a.ProposalBody="undefined"!==a.proposalsImg?!1:!0},a.prototype.addListeners=function(){var a=this;a.$scope.$on("proposal-box:proposal-loaded",function(e,o){o.success&&(a.STATE=null),o.error&&(a.errorOnSkip=o.error)}),a.$scope.$on("proposal-box:vote-response",function(e,o){o.success&&(a.STATE=a.VOTE_STATUS.SUCCESS),o.error&&(a.STATE=a.VOTE_STATUS.ERROR),401===o.code&&(a.message="Não autorizado."),a.messageCode=o.code});var e=null;e=a.$interval(function(){var o=angular.element("#serpro_captcha");o&&o.length>0?(a.$window.initCaptcha(o[0]),a.$interval.cancel(e),e=void 0):a.$log.debug("captcha element not found.")},10)},a.prototype.canVote=function(){var a=this;return!!a.$rootScope.temporaryToken||a.$rootScope.currentUser&&!!a.$rootScope.currentUser.private_token},a.prototype.submitCaptcha=function(a,e){var o=this,s=a.target,r=angular.element(s),t=r.find('[name="txtToken_captcha_serpro_gov_br"]');o.sendingCaptcha=!0,o.AuthService.loginCaptcha({captcha_text:e.captcha_text.$modelValue,txtToken_captcha_serpro_gov_br:t.val()}).then(function(a){o.$log.debug("register success.data",a),o._oldVoteValue&&(o.vote(o._oldVoteValue),o._oldVoteValue=null),o.showCaptchaForm=!1},function(a){o.$log.debug("register error.data",a),o.sendingCaptchaError={code:a.status,message:a.message||"Erro ("+a.status+"). Já estamos trabalhando para resolver o problema.<br/>Por favor, tente novamente mais tarde"},angular.equals(o.sendingCaptchaError.message,"Internal captcha validation error")&&(o.sendingCaptchaError.message="Erro interno ao tentar validar captcha.<br/><br/>Já estamos trabalhando para resolver o problema.<br/>Por favor, tente novamente mais tarde.")},function(a){o.$log.debug("register update.data",a)})["finally"](function(){o.sendingCaptcha=!1})},a.prototype.captchaTryAgain=function(){var a=this;a.showCaptchaForm=!0,a.sendingCaptcha=!1,a.sendingCaptchaError=!1,a.message=null;var e=angular.element("#serpro_captcha");a.$window.reloadCaptcha(e[0]),angular.element("#captcha_text").val("").focus()},a.prototype.vote=function(a){var e=this;return e.archived===!0?void e.$log.info("Article archived. Abort."):(e._oldVoteValue=a,void(e.canVote()?e.doVote?e.doVote({proposal_id:e.proposal.id,value:a}):e.$log.error("No vote function to handler votes"):(e.$log.debug("You cannot vote."),e.showCaptchaForm=!0,angular.element("#captcha_text").focus())))},a.prototype.skip=function(){var a=this;return a.archived===!0?void a.$log.info("Article archived. Abort."):(a.errorOnSkip=!1,a.STATE=a.VOTE_STATUS.LOADING,a.doVote({proposal_id:a.proposal.id,value:a.VOTE_OPTIONS.SKIP}),void a.$log.debug("Sending vote"))},a.prototype.getSocialUrl=function(){var a=this;return a.$state.href("programa",{slug:a.topic.slug,proposal_id:a.proposal.id},{absolute:!0})},a.prototype.getSocialText=function(){var a=this;return a.proposal["abstract"]},a.prototype.getSocialImage=function(){var a=this;return a.$rootScope.basePath+a.topic.image.url};var e={restrict:"E",templateUrl:"app/components/proposal-box/proposal-box.html",scope:{archived:"=",category:"=",doVote:"&",focus:"@",proposal:"=",showVote:"=",topic:"=",location:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("proposalBox",a)}(),function(){"use strict";function a(){var a={};return a.generate=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a}angular.module("dialoga").factory("GUID",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r){r.debug("EventListController");var t=this;t.ArticleService=a,t.$scope=e,t.$rootScope=o,t.$state=s,t.$log=r,t.init()}a.$inject=["ArticleService","$scope","$rootScope","$state","$log"],a.prototype.init=function(){var a=this;if(!a.events)throw{name:"NotDefined",message:'The attribute "events" is undefined.'};a.isCollapsed||(a.isCollapsed=!0)},a.prototype.toggleView=function(){var a=this;a.isCollapsed=!a.isCollapsed},a.prototype.subscribe=function(a){var e=this,o=a.id;return e.$rootScope.currentUser?(a._loading=!0,void e.ArticleService.subscribeToEvent(o).then(function(o){e.$log.debug("success",o),o.success===!0&&(a.already_follow=!0),o.success===!1&&o.already_follow===!0&&(a.already_follow=!0)},function(a){e.$log.debug("error",a)},function(a){e.$log.debug("update",a)})["finally"](function(o){e.$log.debug("finally",o),a._loading=!1})):(e.$log.info("User is not logged in. Redirect to Auth page."),void e.$state.go("entrar",{redirect_uri:"state=inicio&task=subscribe&event_id="+o},{location:!0}))};var e={restrict:"E",templateUrl:"app/components/event-list/event-list.html",scope:{events:"=",isCollapsed:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("eventList",a)}(),function(){"use strict";function a(){function a(a){return"param required: "+a}var e={paramRequired:a};return e}angular.module("dialoga").service("ErrorService",a)}(),function(){"use strict";function a(a,e,o,s,r,t,i){function n(a,e){D.home?a(D.home):s.getArticleById(o.articleId.home,{"fields[]":["id","abstract","body","categories","children","children_count","title","slug","image","url","archived"],content_type:"ProposalsDiscussionPlugin::DiscussionTopic"},function(e){D.home=e,A(e),C(e),_(e),k(e),a(e)},e)}function l(a,e){D.about?a(D.about):s.getArticleById(o.articleId.about,{},function(e){D.about=e,a(D.about)},e)}function c(a,e){D.acessibility?a(D.acessibility):s.getArticleById(o.articleId.acessibility,{},function(e){D.acessibility=e,a(D.acessibility)},e)}function d(a,e){D.terms?a(D.terms):s.getArticleById(o.articleId.terms,{},function(e){D.terms=e,a(D.terms)},e)}function p(a,e){D.themes?a(D.themes):n(function(){if(!D.hasOwnProperty("themes"))throw{name:"NotFound",message:'"themes" is not defined. "article.categories" was loaded?'};a(D.themes)},e)}function g(a,e,o){function s(){for(var o=null,s=D.themes.length-1;s>=0;s--){var r=D.themes[s];if(r&&r.slug&&r.slug===a){o=r;break}}e(o)}D.themes?s(D.themes):p(s,o)}function u(a,e){D.programs?a(D.programs):n(function(){if(!D.hasOwnProperty("programs"))throw{name:"NotFound",message:'"programs" is not defined. "article.children" was handled?'};a(D.programs)},e)}function v(a,e,o){function s(){var o=D.programs.filter(function(e){return angular.equals(e.slug,a)?!0:!1});e(o[0])}D.programs?s():u(s,o)}function m(a,e,o){function s(){var o=D.programs.filter(function(e){var o=e.categories[0];return o&&angular.equals(o.id,a)?!0:!1});e(o)}D.programs?s():u(s,o)}function h(a,e,s){if(D.programsRandom)e(D.programsRandom);else{var t=!!D.programs,i=U.serviceDialoga+"random_topics/"+o.articleId.home,n=null;n=t?["id","title","slug"]:[];var l=angular.extend({"fields[]":n},a);r.get(i,{params:l}).then(function(a){F(t,a,e)})["catch"](function(a){s(a)})}}function f(a){var e=angular.extend({},a);return s.getEvents(o.communityId,e)}function b(a){return s.getResponseByProposalId(a)}function y(){var a=o.articleId.faq,e={};return s.getArtcilesByParentId(a,e)}function w(a,e,o){s.searchTopics({query:a},e,o)}function P(a,e,o){s.searchProposals(a,e,o)}function $(a){return s.sendContactForm(o.communityId,a)}function S(a,e){return angular.isArray(a)?a.filter(function(a){return a.parent?a.parent.categories&&0!==a.parent.categories.length?a.parent.categories[0].slug===e:(i.warn("Proposal parent has no categories."),!1):(i.warn("Proposal without a parent."),!1)}):(i.error("Input is not a Array."),[])}function T(a,e){return angular.isArray(a)?a.filter(function(a){return a.parent&&a.parent.id?a.parent.id===e:(i.warn("Proposal has no parent."),!1)}):(i.error("Input is not a Array."),[])}function A(a){var o=a.article["abstract"];o=I(o),o=B(o),a.article["abstract"]=o,a.article.abstractTrusted=e.trustAsHtml(o)}function C(a){a.article.slug||(a.article.slug=t.slugify(a.article.title));for(var e=a.article.children.length-1;e>=0;e--){var o=a.article.children[e];o.slug||(o.slug=t.slugify(o.title))}}function _(a){D.hasOwnProperty("themes")||(D.themes=a.article.categories),R(a),x(a)}function x(a){for(var e=a.article.children,o=a.article.categories,s=o.length-1;s>=0;s--){for(var r=o[s],t=e.length-1;t>=0;t--){var i=e[t];if(i.categories&&i.categories.length>0&&angular.equals(i.categories[0].slug,r.slug)&&i.archived){r.archived=!0;break}}r.archived||(r.archived=!1)}}function k(a){D.hasOwnProperty("programs")||(D.programs=a.article.children,D.programs_count=a.article.children_count),E(D.programs)}function E(e){if(angular.isArray(e))for(var o=null,s=null,r=e.length-1;r>=0;r--)o=e[r],o.summary||(s=o["abstract"].split("<hr />"),o.summary=a.stripHtml(s[0]).trim(),s.length>1&&(o.summaryExtended=s[1].trim()))}function R(a){a.article.categories}function F(a,e,o){if(a){for(var s=[],r=e.articles,t=D.programs.length-1;t>=0;t--)for(var i=D.programs[t],n=r.length-1;n>=0;n--){var l=r[n];l.id===i.id&&s.push(i)}e.articles=s}o(e)}function I(a){var e='<iframe src="',o=a.indexOf(e);if(-1===o)return a;var s=o+e.length,r=a.indexOf('"',s),t=a.substring(s,r),i=t,n=-1!==t.indexOf("?")?"&":"";return-1===t.indexOf("enablejsapi=1")&&(i+=n+"enablejsapi=1",n="&"),-1===t.indexOf("wmode=opaque")&&(i+=n+"wmode=opaque"),a=a.replace(t,i)}function B(a){var e='style="',o=a.indexOf("<iframe"),s=a.indexOf('style="',o);if(-1===s)return a;var r=s+e.length,t=a.indexOf('"',r),i=a.substring(r,t);return a.replace(i,"")}i.debug("DialogaService");var U=angular.extend({},s);U.serviceDialoga=a.basePath+"/api/v1/dialoga_plugin/",U.getHome=n,U.getAbout=l,U.getAcessibility=c,U.getTerms=d,U.getThemes=p,U.getThemeBySlug=g,U.getPrograms=u,U.getProgramBySlug=v,U.getProgramsByThemeId=m,U.getProgramsRandom=h,U.getEvents=f,U.getResponseByProposalId=b,U.getQuestions=y,U.searchPrograms=w,U.searchProposals=P,U.sendContactForm=$,U.filterProposalsByCategorySlug=S,U.filterProposalsByProgramId=T;var D={};return U}angular.module("dialoga").factory("DialogaService",a),a.$inject=["$rootScope","$sce","API","ArticleService","UtilService","Slug","$log"]}(),function(){"use strict";function a(){function a(a,e,o,s){s.debug("CategoryListController");var r=this;r.$rootScope=a,r.$location=e,r.$element=o,r.$log=s,r.init()}a.$inject=["$rootScope","$location","$element","$log"],a.prototype.init=function(){var a=this;a.isRankingPage="/ranking"===a.$location.path(),a.showCloseBtn=!0,a.isRankingPage&&(a.showCloseBtn=!1),a.isCollapsed=!1},a.prototype._disableUnselect=function(){var a=this;return a.disableUnselect&&"true"===a.disableUnselect?!0:!1},a.prototype.selectCategory=function(a,e){var o=this;if(e.stopPropagation(),a!==o.selectedCategory)o.selectedCategory=a,o.isRankingPage&&(o._getListGroup().slideUp(),o.isCollapsed=!0);else{if(o._disableUnselect())return void o.$log.info("Unselect is disabled.");o.selectedCategory=null}o.$rootScope.$broadcast("change-selectedCategory",o.selectedCategory)},a.prototype.toogleList=function(){var a=this;a.isCollapsed?a._getListGroup().slideDown():a._getListGroup().slideUp(),a.isCollapsed=!a.isCollapsed},a.prototype._getListGroup=function(){var a=this;return a._listGroup||(a._listGroup=a.$element.find(".js-list-group")),a._listGroup};var e={restrict:"E",templateUrl:"app/components/category-list/category-list.html",scope:{categories:"=",selectedCategory:"=",disableUnselect:"@"},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("categoryList",a)}(),function(){"use strict";function a(){function a(a,e,o,s){s.debug("cadastroPropostaController");var r=this;r.$scope=a,r.$element=e,r.$timeout=o,r.$log=s,r.init()}function e(){var a=this;a.popover=angular.element(a.$element.find(".btn-question")),a.popover.popover({html:!0,placement:"bottom",animation:!0,title:"Regra de posição das propostas",content:"<p>Poderia escrever a sua proposta em um texto simples e breve?</p><br><p>Sua proposta passará pela fase de moderação. Assim que ela estiver pronta para compartilhar, avisaremos você."})}a.$inject=["$scope","$element","$timeout","$log"],a.prototype.init=function(){var a=this;a.$timeout(function(){e.call(a)},200)},a.prototype.sendProposal=function(a){var e=this;e.$scope.$emit("cadastro-proposa:startSendProposal",a)};var o={restrict:"E",templateUrl:"app/components/cadastro-proposta/cadastro-proposta.html",scope:{program:"="},controller:a,controllerAs:"vm",bindToController:!0};return o}angular.module("dialoga").directive("cadastroProposta",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r){r.debug("AuthUserController");var t=this;t.$scope=a,t.AuthService=e,t.Session=o,t.AUTH_EVENTS=s,t.$log=r,t.init()}a.$inject=["$scope","AuthService","Session","AUTH_EVENTS","$log"],a.prototype.init=function(){var a=this;a.currentUser=a.Session.getCurrentUser(),a.$scope.$on(a.AUTH_EVENTS.loginSuccess,function(){a.currentUser=a.Session.getCurrentUser()}),a.$scope.$on(a.AUTH_EVENTS.logoutSuccess,function(){a.currentUser=a.Session.getCurrentUser()})},a.prototype.onClickLogout=function(){var a=this;a.AuthService.logout()};var e={restrict:"E",templateUrl:"app/components/auth-user/auth-user.html",controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("authUser",a)}(),function(){"use strict";function a(a,e,o,s,r,t,i,n){function l(t){var l=i.host+"/api/v1/register";n.debug("data",t);var c="";return c+="name="+t.name,c+="&email="+t.email,c+="&login="+t.email.substr(0,t.email.indexOf("@")).toLowerCase().replace(/\W+/g,"").substr(0,25)+"-"+Date.now(),c+="&email="+t.email,c+="&password="+t.password,c+="&password_confirmation="+t.password_confirmation,c+="&user_terms_accepted="+t.user_terms_accepted,c+="&captcha_text="+t.captcha_text,c+="&txtToken_captcha_serpro_gov_br="+t.txtToken_captcha_serpro_gov_br,e.post(l,c).then(function(a){n.debug("AuthService.register [SUCCESS] response",a);var e=a.data;if(e.user&&e.user.activated===!1,e.user&&e.user.activated===!0){var t=s.create(e);o.currentUser=t,o.$broadcast(r.loginSuccess,t)}return o.$broadcast(r.registerSuccess,e.user),a},function(e){return n.debug("AuthService.register [FAIL] response",e),o.$broadcast(r.registerFailed,e),a.reject(e)})}function c(s){var t=i.host+"/api/v1/activate",l="activation_code="+s;return e.patch(t,l).then(function(a){return n.debug("AuthService.activate [SUCCESS] response",a),o.$broadcast(r.activateSuccess,a),a},function(e){return n.debug("AuthService.activate [FAIL] response",e),o.$broadcast(r.activateFailed),a.reject(e)})}function d(s){var t=i.host+"/api/v1/resend_activation_code",l=["value="+s.login,"captcha_text="+s.captcha_text,"txtToken_captcha_serpro_gov_br="+s.txtToken_captcha_serpro_gov_br].join("&");return t+="?"+l,e.post(t).then(function(a){return n.debug("AuthService.resendConfirmation [SUCCESS] response",a),o.$broadcast(r.resendConfirmationSuccess,a),a},function(e){return n.debug("AuthService.resendConfirmation [FAIL] response",e),o.$broadcast(r.resendConfirmationFailed),a.reject(e)})}function p(s){var t=i.host+"/api/v1/new_password",l="code="+s.code;return l+="&password="+s.newPassword,l+="&password_confirmation="+s.newPasswordConfirmation,e.patch(t+"?"+l).then(function(a){return n.debug("AuthService.changePassword [SUCCESS] response",a),o.$broadcast(r.changePasswordSuccess,a),a},function(e){return n.debug("AuthService.changePassword [FAIL] response",e),o.$broadcast(r.changePasswordFailed),a.reject(e)})}function g(s){var t=i.host+"/api/v1/forgot_password",l=["value="+s.login,"captcha_text="+s.captcha_text,"txtToken_captcha_serpro_gov_br="+s.txtToken_captcha_serpro_gov_br].join("&");return e.post(t,l).then(function(a){return n.debug("AuthService.forgotPassword [SUCCESS] response",a),o.$broadcast(r.forgotPasswordSuccess,a),a},function(e){return n.debug("AuthService.forgotPassword [FAIL] response",e),o.$broadcast(r.forgotPasswordFailed),a.reject(e)})}function u(t){var l=i.host+"/api/v1/login",c="login="+t.username+"&password="+t.password;return e.post(l,c).then(function(a){n.debug("AuthService.login [SUCCESS] response",a);var e=s.create(a.data);return o.currentUser=e,o.$broadcast(r.loginSuccess,e),e},function(e){return n.debug("AuthService.login [FAIL] response",e),o.$broadcast(r.loginFailed),a.reject(e)})}function v(r){var t=i.host+"/api/v1/login-captcha",l=angular.element.param(r);return e.post(t,l).then(function(a){n.debug("AuthService.loginCaptcha [SUCCESS] response",a);var e=a.data.private_token;return s.setTemporaryToken(e),o.temporaryToken=e,e},function(e){return a.reject(e.data)})}function m(){s.destroy(),o.currentUser=void 0,o.$broadcast(r.logoutSuccess)}function h(){return!!s.userId}function f(a){return angular.isArray(a)||(a=[a]),b.isAuthenticated()&&-1!==a.indexOf(s.userRole)}var b={register:l,activate:c,resendConfirmation:d,
changePassword:p,forgotPassword:g,login:u,loginCaptcha:v,logout:m,isAuthenticated:h,isAuthorized:f};return n.debug("AuthService",b),b}function e(a,e){var o={};return o.create=function(o){return a.currentUser=o.user,e.debug("User session created.",a.currentUser),a.currentUser},o.destroy=function(){delete a.currentUser,e.debug("User session destroyed.")},o.getCurrentUser=function(){return a.currentUser},o.setTemporaryToken=function(e){a.temporaryToken=e},o.getTemporaryToken=function(){return a.temporaryToken},o}function o(a,e,o){return{responseError:function(s){return a.$broadcast({401:o.notAuthenticated,403:o.notAuthorized,419:o.sessionTimeout,440:o.sessionTimeout}[s.status],s),e.reject(s)}}}angular.module("dialoga").factory("Session",e).factory("AuthService",a).factory("AuthInterceptor",o),a.$inject=["$q","$http","$rootScope","Session","AUTH_EVENTS","API","PATH","$log"],e.$inject=["$localStorage","$log"],o.$inject=["$rootScope","$q","AUTH_EVENTS"]}(),function(){"use strict";function a(a,e,o,s,r,t,i,n){function l(a,e,o,s){var t=F.apiArticles+a,i=angular.extend({},e);r.get(t,{params:i}).then(function(a){o(a)})["catch"](function(a){s(a)})}function c(a,e,o,s){l(a,e,o,s)}function d(){throw{name:"NotImplementedYet",message:'The service "getArticleBySlug" is not implemented yet.'}}function p(a,e){var o=F.apiArticles+a+"/children",s=angular.extend({"fields[]":["id","slug","title","body"]},e);return r.get(o,{params:s})}function g(a,e,o,s){var t=F.apiArticles+a,i=angular.extend({"fields[]":["id","categories"]},e);r.get(t,{params:i}).then(function(a){o(a)})["catch"](function(a){s(a)})}function u(){throw{name:"NotImplementedYet",message:'The service "getArticleBySlug" is not implemented yet.'}}function v(a,e,o){m(s.articleId.home,a,e,o)}function m(a,e,o,s){var t=F.apiArticles+a+"/children",i=angular.extend({"fields[]":["id","categories"]},e);r.get(t,{params:i}).then(function(a){o(a)})["catch"](function(a){s(a)})}function h(a,e,o){var s=angular.extend({query:""},a);x(s,e,o)}function f(a,e,o,s){var t=F.apiArticles+a,i=angular.extend({limit:"1",content_type:"ProposalsDiscussionPlugin::Proposal"},e);r.get(t,{params:i}).then(function(a){k(a),o(a)})["catch"](function(a){s(a)})}function b(a,e,o,s){var t=F.apiProposals+a+"/ranking?per_page=5&page=1",i=angular.extend({limit:"1",content_type:"ProposalsDiscussionPlugin::Proposal"},e);r.get(t,{params:i}).then(function(a){E(a),o(a)})["catch"](function(a){s(a)})}function y(a,e,o,s){f(a+"/children",e,o,s)}function w(a,e,o,s){b(a,e,o,s)}function P(a){var e=F.apiArticles+a+"/children?content_type=ProposalsDiscussionPlugin::Response&limit=1";return r.get(e)}function $(a,e,s,t,n){if(o.currentUser){var l=F.apiProposals+e+"/propose",c=[];c.push("article%5Babstract%5D="+a),c.push("article%5Bcategory_ids%5D%5B%5D="+s),c.push("article%5Btype%5D=ProposalsDiscussionPlugin%3A%3AProposal"),c.push("content_type=ProposalsDiscussionPlugin%3A%3AProposal"),c.push("private_token="+o.currentUser.private_token),c.push("fields=id"),c.push("article[name]=article_"+i.generate()),c=c.join("&"),r.post(l,c).then(function(a){t(a)})["catch"](function(a){n(a)})}else n({message:"Usuário não logado."})}function S(a,e){var s=F.apiArticles+a+"/vote",t=null;t=o.currentUser&&o.currentUser.private_token?o.currentUser.private_token:o.temporaryToken;var i=angular.extend({private_token:t},e),n=angular.element.param(i);return r.post(s,n)}function T(a,e){var o=F.apiCommunities+a+"/articles",s=angular.extend({"fields[]":["id","title","abstract","body","setting","presenter","created_at","update_at","start_date","end_date","followers_count","image","url"],content_type:"Event"},e);return r.get(o,{params:s}).then(function(a){return R(a),a})}function A(a){var e=F.apiArticles+a+"/follow",s="private_token="+o.currentUser.private_token;return r.post(e,s)}function C(a,e){var o=F.apiCommunities+a+"/contact",s=["contact[name]="+e.name,"contact[email]="+e.email,"contact[subject]="+e.subject,"contact[message]="+e.message].join("&");return r.post(o,s)}function _(a,e,o){var s=F.apiSearch+"article",t=angular.extend({type:"ProposalsDiscussionPlugin::Topic"},a);r.get(s,{params:t}).then(function(a){e(a)})["catch"](function(a){o(a)})}function x(a,e,o){var s=F.apiSearch+"article",t=angular.extend({page:1,per_page:10,type:"ProposalsDiscussionPlugin::Proposal","fields[]":["id","abstract","hits","ranking_position","votes_against","votes_count","votes_for","parent","categories","slug","url","image","title","archived"]},a);r.get(s,{params:t}).then(function(a){k(a),e(a)})["catch"](function(a){o(a)})}function k(a){!a.articles&&a.article&&(a.articles=[a.article]);for(var e=a.articles,o=e.length-1;o>=0;o--){var s=e[o];s.parent&&!s.parent.slug&&(s.parent.slug=t.slugify(s.parent.title))}}function E(a){!a.proposals&&a.proposals&&(a.proposals=[a.proposals]);for(var e=a.proposals,o=e.length-1;o>=0;o--){var s=e[o];s.parent&&!s.parent.slug&&(s.parent.slug=t.slugify(s.parent.title))}}function R(a){!a.articles&&a.article&&(a.articles=[a.article],a.article=null);for(var e=(new Date).getTime(),o=null,s=a.articles,r=[],t=s.length-1;t>=0;t--){var i=s[t];i.end_date&&(o=new Date(i.end_date)),o.getTime()>=e&&r.push(i)}a.articles=r}n.debug("ArticleService");var F={apiArticles:o.basePath+"/api/v1/articles/",apiCommunities:o.basePath+"/api/v1/communities/",apiProposals:o.basePath+"/api/v1/proposals_discussion_plugin/",apiSearch:o.basePath+"/api/v1/search/",getArticleById:c,getArticleBySlug:d,getArtcilesByParentId:p,getCategories:g,getCategoryBySlug:u,getTopics:v,getTopicById:m,getProposals:h,getProposalById:f,getProposalsByTopicId:y,getProposalsByTopicIdRanked:w,getResponseByProposalId:P,createProposal:$,voteProposal:S,getEvents:T,subscribeToEvent:A,searchTopics:_,searchProposals:x,sendContactForm:C};return F}angular.module("dialoga").factory("ArticleService",a),a.$inject=["$http","$q","$rootScope","API","UtilService","Slug","GUID","$log"]}(),function(){"use strict";function a(){function a(a,e,o){o.debug("ArticlePreviewController");var s=this;s.$state=a,s.PATH=e,s.$log=o,s.init()}a.$inject=["$state","PATH","$log"],a.prototype.init=function(){var a=this;if(!a.article.slug)throw{name:"NotDefined",message:'The attribute "slug" is undefined.'};a.category||(a.category=a.article.categories[0]),a.banner||(a.banner={src:a.PATH.image+a.article.image.url,alt:"Imagem de destaque do programa"})},a.prototype.showContent=function(){var a=this;a.$state.go("conheca-o-programa",{slug:a.article.slug},{location:!0})};var e={restrict:"E",templateUrl:"app/components/article-preview/article-preview.html",scope:{article:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("articlePreview",a)}(),function(){"use strict";function a(){function a(a,e,o,s,r,t){t.debug("ArticleGridController");var i=this;i.$scope=a,i.$rootScope=e,i.$element=o,i.$location=s,i.$filter=r,i.$log=t,i.defaultLimit=6,i.init(),i.attachListeners()}a.$inject=["$scope","$rootScope","$element","$location","$filter","$log"],a.prototype.init=function(){},a.prototype.attachListeners=function(){};var e={restrict:"E",templateUrl:"app/components/article-grid/article-grid.html",scope:{articles:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("articleGrid",a)}(),function(){"use strict";function a(){function a(a,e,o){o.debug("ArticleBoxController");var s=this;s.$state=a,s.PATH=e,s.$log=o,s.init()}a.$inject=["$state","PATH","$log"],a.prototype.init=function(){var a=this;if(!a.article.slug)throw{name:"NotDefined",message:'The attribute "slug" is undefined.'};if(!a.category)throw{name:"NotDefined",message:'The attribute "category" is undefined.'};!a.image&&a.article.image&&(a.image={src:a.PATH.image+a.article.image.url,alt:"Imagem de destaque do conteúdo"})},a.prototype.showContent=function(){var a=this;a.$state.go("programa",{slug:a.article.slug},{location:!0})};var e={restrict:"E",templateUrl:"app/components/article-box/article-box.html",scope:{article:"=",category:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("articleBox",a)}(),function(){"use strict";function a(){function a(a,e,o,s){s.debug("ArticleBarController");var r=this;r.$scope=a,r.$rootScope=e,r.$state=o,r.theme="blue",r.currentCategory=r.category,r.$scope.$watch("vm.currentCategory",function(a,e){a!==e&&r.$state.go("inicio",{tema:a.slug},{location:!0})}),r.goBack=function(){var a=this,e=a.$rootScope.$previousState;e&&e.state.name?a.$state.go(e.state.name,e.params):a.$state.go("inicio")}}var e={restrict:"E",templateUrl:"app/components/article-bar/article-bar.html",scope:{category:"=",categories:"="},controller:a,controllerAs:"vm",bindToController:!0};return a.$inject=["$scope","$rootScope","$state","$log"],e}angular.module("dialoga").directive("articleBar",a)}(),function(){"use strict";function a(){function a(a,e){var o=this;o.$scope=a,o.$log=e,o.init(),o.attachListeners(),e.debug("AppPaginatorController")}a.$inject=["$scope","$log"],a.prototype.init=function(){var a=this;a.page=a.page||1,a.perPage=a.perPage||20,a.total=a.total||0,a.calcArrayPages()},a.prototype.calcArrayPages=function(){var a=this;a.pages=a.total%a.perPage===0?a.total/a.perPage:a.total/a.perPage+1,a.arraypages=new Array(Math.floor(a.pages))},a.prototype.attachListeners=function(){var a=this;a.$scope.$watch("vm.perPage",function(){a.calcArrayPages()}),a.$scope.$watch("vm.total",function(){a.calcArrayPages()})},a.prototype.showPage=function(a){var e=this;1>a&&(a=1),a>e.pages&&(a=e.pages),e.changePage&&e.changePage({pageIndex:a})};var e={restrict:"E",templateUrl:"app/components/app-paginator/app-paginator.html",scope:{page:"=",perPage:"=",total:"=",changePage:"&"},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("appPaginator",a)}(),function(){"use strict";function a(){function a(a,e){e.debug("NavbarController");var o=this;o.AuthService=a,o.$log=e}a.$inject=["AuthService","$log"],a.prototype.onClickLogout=function(){var a=this;a.AuthService.logout()};var e={restrict:"E",templateUrl:"app/components/app-navbar/app-navbar.html",scope:{creationDate:"="},controller:a,controllerAs:"vm",bindToController:!0};return e}angular.module("dialoga").directive("appNavbar",a)}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/app-header/app-header.html"};return a}angular.module("dialoga").directive("appHeader",a)}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/app-footer/app-footer.html"};return a}angular.module("dialoga").directive("appFooter",a)}(),function(){"use strict";function a(){var a={restrict:"E",templateUrl:"app/components/a11y-bar/a11y-bar.html"};return a}angular.module("dialoga").directive("a11yBar",a)}(),function(){"use strict";function a(a,e,o,s,r,t){function i(a){var e=angular.element(document).find("body");angular.element(e).toggleClass("contraste",!!a)}var n="true"===s.get("dialoga_contraste");i(n),a.actionContrast=function(){n=!n,s.put("dialoga_contraste",n),i(n)},a.focusOn=function(e,o){var s=angular.element(e);a.scrollTo(s,o),s.attr("tabIndex",-1).focus()},a.focusMainContent=function(o){var s=document.querySelector('[role="main"]');s?e(function(){a.scrollTo(angular.element(s),o)},90):t.info('role="main" not found.')},a.focusOnSearch=function(e){e&&e.preventDefault();var o=angular.element('input[type="search"]:visible');if(o&&o.length>0)angular.element("html,body").animate({scrollTop:o.offset().top},"fast"),o.focus();else{var s=r.go("inicio",{reload:!0});s.then(function(){a.findElAsyncAndFocus('input[type="search"]:visible')})}},a.findElAsyncAndFocus=function(e,o,s){return a.findElAsync(e,function(a){angular.element("html,body").animate({scrollTop:a.offset().top},"fast"),a.focus()},o,s)},a.findElAsync=function(a,e,s,r){s=s||200,r=r||20;var i=0,n=null;n=o(function(){var s=angular.element(a);s&&s.length>0?(e(s),i=r):t.debug("[findElAsync] element not found."),i++,i>=r&&(o.cancel(n),n=void 0)},s)},a.scrollTo=function(a,e){e&&e.preventDefault(),angular.isString(a)&&(a=angular.element(a)),angular.element("html,body").animate({scrollTop:a.offset().top},"fast")},t.debug("[RUN] Accessibility end.")}function e(a,e,o,s,r,t){a.$on("$stateChangeStart",function(e,o){if(!o.data||!o.data.authorizedRoles)return void t.debug("[RUN] Auth: public url/state");var i=o.data.authorizedRoles;r.isAuthorized(i)||(e.preventDefault(),r.isAuthenticated()?(t.debug("user is not allowed"),a.$broadcast(s.notAuthorized)):(t.debug("user is not logged in"),a.$broadcast(s.notAuthenticated)))}),a.currentUser=e.currentUser,a.temporaryToken=e.temporaryToken,t.debug("[RUN] Auth end.")}function o(a,e,o){var s="fdbcdc7a0b754ee7ae9d865fda740f17";a.initCaptcha=function(r){var t=angular.element(r);if(t.data("captcha"))return void e.info("Captcha already initialized. Abort.");var i=new a.captcha_serpro_gov_br;t.val(""),t.data("captcha",i),i.clienteId=s,i.criarUI(r,"css","serpro_captcha_component_",o.generate())},a.reloadCaptcha=function(a){var e=angular.element(a);e.data("captcha")&&e.data("captcha").recarregar()},e.debug("runCaptcha")}function s(a){var e=20;a.$previousState=a.$previousState||[],a.$on("$stateChangeSuccess",function(o,s,r,t,i){a.$previousState.push({state:t,params:i}),a.$previousState.splice(-e,e)}),a.goBack=a.goBack||function(){return a.$previousState.pop()}}function r(a,e){e(document).ready(function(){a({bgColor:"#f25648",color:"#ffffff",lowerThan:"boxShadow",languagePath:""})})}function t(a,e,o,s){a.basePath=e.host,s.debug("[RUN] Path end.")}function i(a,e,o){a.oauthClientAction=function(e){var s=a.open(e,"_blank"),r=o(function(){try{s.closed||s.postMessage({message:"requestOauthClientPluginResult"},"*")}catch(a){s.closed&&(o.cancel(r),r=void 0)}},300)},a.addEventListener("message",function(a){"oauthClientPluginResult"===a.data.message&&(e.$broadcast("oauthClientPluginResult",a),a.source.close())})}function n(a,e){a.$on("change-selectedCategory",function(){var o=e(".section--articles .header");o&&o.length>0&&a.scrollTo(o)})}function l(a){a.stripHtml=function(a){return String(a).replace(/<[^>]+>/gm,"")}}function c(a){a.debug("[RUN] Block end.")}angular.module("dialoga").run(a).run(e).run(o).run(s).run(r).run(t).run(i).run(n).run(l).run(c),a.$inject=["$rootScope","$timeout","$interval","$cookies","$state","$log"],e.$inject=["$rootScope","$localStorage","USER_ROLES","AUTH_EVENTS","AuthService","$log"],o.$inject=["$window","$log","GUID"],s.$inject=["$rootScope"],r.$inject=["outdatedBrowser","jQuery"],t.$inject=["$rootScope","PATH","$window","$log"],i.$inject=["$window","$rootScope","$interval"],n.$inject=["$rootScope","jQuery"],l.$inject=["$rootScope"],c.$inject=["$log"]}(),function(){"use strict";function a(a,e){a.state("inicio",{url:"/?tema&filtro&scroll",ncyBreadcrumb:{label:"Home"},reloadOnSearch:!1,views:{main:{templateUrl:"app/pages/inicio/inicio.html",controller:"InicioPageController",controllerAs:"pageInicio"}}}).state("entrar",{url:"/entrar?redirect_uri&message",ncyBreadcrumb:{label:"Entrar"},views:{main:{templateUrl:"app/pages/auth/signin.html",controller:"AuthPageController",controllerAs:"pageAuth"}}}).state("reenviar-email",{url:"/reenviar-email",ncyBreadcrumb:{label:"Re-enviar e-mail de confirmação"},views:{main:{templateUrl:"app/pages/auth/resend-confirmation.html",controller:"AuthPageController",controllerAs:"pageAuth"}}}).state("ativar",{url:"/ativar/:activation_code",ncyBreadcrumb:{label:"Ativar e-mail"},views:{main:{templateUrl:"app/pages/auth/active.html",controller:"ActivePageController",controllerAs:"pageActive"}}}).state("recuperar",{url:"/recuperar",ncyBreadcrumb:{label:"Recuperar senha"},views:{main:{templateUrl:"app/pages/auth/recover.html",controller:"AuthPageController",controllerAs:"pageAuth"}}}).state("nova-senha",{url:"/nova-senha/:token",ncyBreadcrumb:{label:"Nova senha"},views:{main:{templateUrl:"app/pages/auth/new-password.html",controller:"NewPasswordPageController",controllerAs:"pageNewPassword"}}}).state("cadastrar",{url:"/cadastrar",ncyBreadcrumb:{label:"Cadastrar"},views:{main:{templateUrl:"app/pages/auth/signup.html",controller:"AuthPageController",controllerAs:"pageSignup"}}}).state("programas",{url:"/programas?tema&filtro&task",reloadOnSearch:!1,ncyBreadcrumb:{label:"Programas"},views:{main:{templateUrl:"app/pages/programas/programas.html",controller:"ProgramasPageController",controllerAs:"pageProgramas"}}}).state("programa",{url:"/programa/:slug?proposal_id&task",reloadOnSearch:!1,ncyBreadcrumb:{label:"{{$parent.$root.contentTitle}}",parent:"programas"},views:{main:{templateUrl:"app/pages/programas/programa.html",controller:"ProgramaPageController",controllerAs:"pagePrograma"}}}).state("propostas",{url:"/propostas?tema&filtro",reloadOnSearch:!1,ncyBreadcrumb:{label:"Propostas"},views:{main:{templateUrl:"app/pages/propostas/propostas.html",controller:"PropostasPageController",controllerAs:"pagePropostas"}}}).state("ranking",{url:"/ranking?tema&programa&filtro",reloadOnSearch:!1,ncyBreadcrumb:{label:"Ranking"},views:{main:{templateUrl:"app/pages/ranking/ranking.html",controller:"RankingPageController",controllerAs:"pageRanking"}}}).state("duvidas",{url:"/duvidas",ncyBreadcrumb:{label:"Dúvidas"},views:{main:{templateUrl:"app/pages/duvidas/duvidas.html",controller:"DuvidasPageController",controllerAs:"pageDuvidas"}}}).state("respostas",{url:"/respostas?tema&filtro",reloadOnSearch:!1,ncyBreadcrumb:{label:"Respostas"},views:{main:{templateUrl:"app/pages/respostas/respostas.html",controller:"RespostasPageController",controllerAs:"pageRespostas"}}}).state("sobre",{url:"/sobre",ncyBreadcrumb:{label:"Sobre"},views:{main:{templateUrl:"app/pages/article/article.html",controller:"ArticlePageController",controllerAs:"pageArticle"}}}).state("acessibilidade",{url:"/acessibilidade",ncyBreadcrumb:{label:"Acessibilidade"},views:{main:{templateUrl:"app/pages/article/article.html",controller:"ArticlePageController",controllerAs:"pageArticle"}}}).state("mapa-do-site",{url:"/mapa-do-site",ncyBreadcrumb:{label:"Mapa do Site"},views:{main:{templateUrl:"app/pages/mapa-do-site/mapa-do-site.html",controller:"SitemapPageController",controllerAs:"sitemap"}}}).state("erro",{url:"/erro",ncyBreadcrumb:{label:"Erro"},views:{main:{templateUrl:"app/pages/erro/erro.html"}}}),e.otherwise("/erro")}angular.module("dialoga").config(a),a.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("dialoga").constant("PATH",{host:"http://hom.dialoga.gov.br",image:"http://hom.login.dialoga.gov.br"}).constant("APP",{facebook_app_id:"1",google_app_id:"4"}).constant("API",{token:null,articleId:{home:"103358",about:"108073",acessibility:"117319",terms:"107880",faq:"117322"},communityId:"19195"}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",registerSuccess:"auth-register-success",registerFailed:"auth-register-failed",activateSuccess:"auth-activate-success",activateFailed:"auth-activate-failed",resendConfirmationSuccess:"auth-resend-confirmation-success",resendConfirmationFailed:"auth-resend-confirmation-failed",changePasswordSuccess:"auth-changePassword-success",changePasswordFailed:"auth-changePassword-failed",forgotPassowrdSuccess:"auth-forgotPassowrd-success",forgotPassowrdFailed:"auth-forgotPassowrd-failed",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("VOTE_STATUS",{SUCCESS:1,ERROR:2,LOADING:4,LOADED:8}).constant("VOTE_OPTIONS",{UP:1,DOWN:-1,SKIP:0}).constant("PROPOSAL_STATUS",{SUCCESS:1,ERROR:2,LOADING:4,LOADED:8,SENDING:16,SENT:32}).constant("USER_ROLES",{all:"*",admin:"admin",restrict:"restrict",visitor:"visitor"}).constant("Modernizr",window.Modernizr).constant("jQuery",window.jQuery).constant("outdatedBrowser",window.outdatedBrowser)}(),function(){"use strict";function a(a){a.defaults.headers.common={},a.defaults.headers.post={},a.defaults.headers.put={},a.defaults.headers.patch={},a.defaults.headers.post={"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},a.defaults.transformRequest=!1,a.interceptors.push(["$injector",function(a){return a.get("AuthInterceptor")}])}function e(a,e){e.history&&a.html5Mode(!0)}function o(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|whatsapp):/)}function s(a){a.setOptions({prefixStateName:"inicio",templateUrl:"app/components/breadcrumb/template.html"})}function r(a){a.debugEnabled(!0)}angular.module("dialoga").config(a).config(e).config(o).config(s).config(r),a.$inject=["$httpProvider"],e.$inject=["$locationProvider","Modernizr"],o.$inject=["$compileProvider"],s.$inject=["$breadcrumbProvider"],r.$inject=["$logProvider"]}(),angular.module("dialoga").run(["$templateCache",function(a){a.put("app/components/a11y-bar/a11y-bar.html",'<div class="a11y-bar"><div class="container"><div class="row"><div class="col-sm-6"><ul class="skip-links list-inline list-unstyled"><li><a class="color-theme-common-fg" accesskey="1" href="#content" id="skip-to-content" ng-click="focusOn(\'#content\', $event)">Ir para o conteúdo <span class="color-theme-common-bg">1</span></a></li><li><a class="color-theme-common-fg" accesskey="2" href="#navigation" id="skip-to-navigation" ng-click="focusOn(\'#navigation\', $event)">Ir para o menu <span class="color-theme-common-bg">2</span></a></li><li><a class="color-theme-common-fg" accesskey="3" id="skip-to-search" href="#search" ng-click="focusOnSearch($event)">Ir para a busca <span class="color-theme-common-bg">3</span></a></li></ul></div><div class="col-sm-6"><ul class="action-links list-inline list-unstyled"><li><a id="siteaction-accessibility" class="color-theme-common-fg" ui-sref="acessibilidade" title="Leia sobre a acessibilidade do Dialoga Brasil" accesskey="5">Acessibilidade</a></li><li><a id="siteaction-contrast" class="color-theme-common-fg" href="#" title="Alto Contraste" accesskey="6" ng-click="actionContrast()">Alto Contraste</a></li><li><a id="siteaction-sitemap" class="color-theme-common-fg" ui-sref="mapa-do-site" title="Mapa do Site" accesskey="7" ng-click="actionSitemap()">Mapa do Site</a></li></ul></div></div></div></div>'),a.put("app/components/app-footer/app-footer.html",'<div id="footer"><div class="container"><div class="row"><div class="col-xs-12 text-center"><a href="#header" style="position:absolute;right:0;top:-10px;" ng-click="scrollTo(\'#header\')">Voltar para o topo</a></div></div></div></div>'),a.put("app/components/app-header/app-header.html",'<header id="header" class="container"><div class="row hidden-xs"><div class="col-sm-12"><auth-user></auth-user></div></div><div class="row"><div class="col-sm-12"><app-navbar></app-navbar></div></div></header>'),a.put("app/components/app-navbar/app-navbar.html",'<div class="app-navbar"><nav id="navigation" class="header-navbar navbar" role="navigation"><div class="navbar-header"><div class="row"><div class="row-height"><div class="col-xs-10 col-xs-height col-middle"><a class="navbar-brand" ui-sref="inicio"><img src="/assets/images/logo.png" class="img-responsive" alt="Dialoga Brasil | O país fica melhor quando você participa"></a></div><div class="col-xs-2 col-xs-height col-middle"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"><span class="sr-only">Alternar menu de navegação</span> <span class="icon-bar" aria-hidden="true"></span> <span class="icon-bar" aria-hidden="true"></span> <span class="icon-bar" aria-hidden="true"></span></button></div></div></div></div><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li class="hidden-sm hidden-md hidden-lg"><a ng-show="$root.currentUser === undefined" ui-sref="entrar">Entrar</a> <a ng-show="$root.currentUser !== undefined" href="#" ng-click="vm.onClickLogout()">Sair</a></li><li ui-sref-active="active"><a ui-sref="inicio">Início</a></li><li ui-sref-active="active"><a ui-sref="sobre">Sobre</a></li><li ui-sref-active="active"><a ui-sref="programas">Programas</a></li><li ui-sref-active="active"><a ui-sref="propostas">Propostas</a></li><li ui-sref-active="active"><a ui-sref="ranking">Ranking</a></li><li ui-sref-active="active"><a ui-sref="duvidas">Dúvidas</a></li><li ui-sref-active="active"><a ui-sref="respostas">Respostas</a></li><li role="separator" class="divider hidden-xs hidden-sm"><span>|</span></li><li class="dropdown" style="border: none;"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Compartilhar <span aria-hidden="true" class="icon icon-social-share-small"></span></a><social-share class="dropdown-menu dropdown-menu-right" arrow-class="social-share--arrow"></social-share><div class="clearfix"></div></li><li class="hidden-sm hidden-md hidden-lg" style="border: none; margin-top: 15px; padding-bottom: 10px !important;"><div class="text text-right" style="padding-right: 20px;">DIALOGA <b>NAS REDES</b></div><ul class="social-share list-inline"><li><a href="https://www.facebook.com/DialogaBrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-facebook"><span class="icon icon-social-facebook"></span></span> <span class="sr-only">Visitar perfil no Facebook</span></a></li><li><a href="https://twitter.com/dialogabrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-twitter"><span class="icon icon-social-twitter"></span></span> <span class="sr-only">Visitar perfil no Twitter</span></a></li><li><a href="https://www.youtube.com/channel/UCtjaJwOWwGu2legqFVAzhIA" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-youtube"><span class="icon icon-social-youtube"></span></span> <span class="sr-only">Visitar canal no Youtube</span></a></li><li><a href="https://www.flickr.com/photos/dialogabrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-flickr"><span class="icon icon-social-flickr"></span></span> <span class="sr-only">Visitar canal no Flickr</span></a></li></ul><div class="clearfix"></div></li></ul></div></nav><div id="dialoga-nas-redes" class="hidden-xs"><div class="text text-right"><p>DIALOGA<br><b>NAS REDES</b></p></div><ul class="social-share list-inline"><li><a href="https://www.facebook.com/DialogaBrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-facebook"><span class="icon icon-social-facebook"></span></span> <span class="sr-only">Visitar perfil no Facebook</span></a></li><li><a href="https://twitter.com/dialogabrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-twitter"><span class="icon icon-social-twitter"></span></span> <span class="sr-only">Visitar perfil no Twitter</span></a></li><li><a href="https://www.youtube.com/channel/UCtjaJwOWwGu2legqFVAzhIA" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-youtube"><span class="icon icon-social-youtube"></span></span> <span class="sr-only">Visitar canal no Youtube</span></a></li><li><a href="https://www.flickr.com/photos/dialogabrasil" target="_blank"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-flickr"><span class="icon icon-social-flickr"></span></span> <span class="sr-only">Visitar canal no Flickr</span></a></li></ul></div></div>'),a.put("app/components/app-paginator/app-paginator.html",'<nav class="app-paginator" ng-if="vm.arraypages.length > 1"><ul class="pagination"><li ng-style="{\'visibility\': (vm.page === 1) ? \'hidden\' : \'visible\'}"><a class="btn-pagination" href="#" aria-label="Previous" ng-click="vm.showPage(vm.page-1)"><span aria-hidden="true" class="glyphicon glyphicon-chevron-left pagination-icon"></span></a></li><li ng-repeat="paginas in vm.arraypages track by $index" ng-class="{ \'active\' : ($index) === (vm.page - 1) }"><a class="btn-pagination" href="#" ng-click="vm.showPage($index + 1)">{{::($index)+1}}</a></li><li ng-style="{\'visibility\': (vm.page === vm.arraypages.length) ? \'hidden\' : \'visible\'}"><a class="btn-pagination" href="#" aria-label="Next" ng-click="vm.showPage(vm.page+1)"><span aria-hidden="true" class="glyphicon glyphicon-chevron-right pagination-icon"></span></a></li></ul></nav>'),a.put("app/components/article-bar/article-bar.html",'<div class="article-bar" ng-class="vm.theme"><div class="navbar"><div class="navbar-header"><button class="article-bar--item btn btn-link" ng-click="vm.goBack()"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Voltar</button></div><div class="navbar-left" ng-if="vm.category"><button class="article-bar--item article-bar--category-button btn btn-link"><span class="icon" ng-class="\'icon-tema-\' + vm.category.slug"></span> <span class="category-name">{{::vm.category.name}}</span></button></div><div class="navbar-right" ng-if="vm.categories"><label for="selectCategory" class="control-label sr-only" title="Selecione uma opção para acessar os programas do tema">Temas:</label><select id="selectCategory" name="selectCategory" class="article-bar--item form-control" ng-model="vm.currentCategory" ng-options="category.name for category in vm.categories track by category.slug"></select></div></div></div>'),a.put("app/components/article-box/article-box.html",'<article class="article-box" ng-click="vm.showContent()" ng-class="vm.category.slug"><div><h2 class="article-box--category">{{ ::vm.category.name }}</h2><div class="article-box--image-wrapper"><div class="article-box--image" ng-style="{ \'background-image\' : \'url({{ vm.image.src }})\' }"><div ng-if="vm.article.archived" class="img-mask--background"><div class="icon icon-programa-respondido"><div class="icon-circle"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div></div></div></div></div><div class="article-box--title"><h1>{{::vm.article.title}}</h1></div><div class="article-box--abstract" ng-bind-html="vm.article.summary"></div><div class="row"><div class="col-sm-5 text-center"><span class="qtd-propostas">{{::vm.article.children_count}} propostas nesse programa</span></div><div class="col-sm-7"><div class="button--themed"><button class="btn btn-block"><span ng-show="{{::vm.article.archived}}">Veja as respostas</span> <span ng-show="{{::!vm.article.archived}}">Participe</span></button></div></div></div></div></article>'),a.put("app/components/article-grid/article-grid.html",'<div class="article-grid row"><div ng-repeat="article in vm.articles as results"><article-box article="article" category="article.categories[0]" class="col-xs-12 col-sm-6"></article-box><div ng-if="$odd" class="clearfix"></div></div><div class="animate-repeat" ng-if="results.length == 0">Nenhum programa encontrado.</div></div>'),a.put("app/components/article-preview/article-preview.html",'<article class="article-preview" ng-class="vm.category.slug"><header class="article-banner"><img class="article-banner--image" ng-src="{{vm.banner.src}}" alt="{{vm.banner.alt}}"><div class="article-banner--strip"><h1 class="article-banner--title">{{::vm.article.title}}</h1><p class="article-banner--abstract" ng-bind-html="vm.article.abstract"></p></div></header><section class="call-to-action--section"><div class="row show-content-row"><div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"><div class="button--themed"><button class="btn btn-block" ng-click="vm.showContent()">Conheça o programa</button></div></div></div><div class="row proposal-row"><div class="row-height"><div class="col-md-6 col-height"><div class="inside-full-height"><div class="proposal-box make-proposal"><h2 class="proposal-box--title">Faça uma proposta</h2><p class="proposal-box--text">Qual a sua sugestão para melhorar este programa?</p><div class="row"><div class="col-xs-8 col-xs-offset-2"><div class="button--themed"><button class="btn btn-block" ng-click="vm.goSendProposal()">Envie sua proposta</button></div></div></div></div></div></div><div class="col-md-6 col-height"><div class="inside-full-height"><div class="proposal-box support-proposal"><h2 class="proposal-box--title">Apoie outras propostas</h2><p class="proposal-box--text">Lorem qual a sua sugestão para melhorar este programa Lorem qual a sua sugestão para melhorar este programa Lorem qual a sua sugestão para melhorar este programa Lorem qual a sua sugestão para melhorar este programa Lorem qual a sua sugestão para melhorar este programa Lorem qual a sua sugestão para melhorar este programa?</p><div class="col-lg-12"><div class="col-xs-8 col-xs-offset-2 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class="button--themed vote-buttons"><button class="btn btn-circle vote-buttons-up" ng-click="vm.vote(1)"><span class="sr-only">Eu <b>apoio</b> esta proposta.</span> <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button> <button class="btn btn-circle vote-buttons-down" ng-click="vm.vote(-1)"><span class="sr-only">Eu <b>não apoio</b> esta proposta.</span> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button> <button class="btn btn-block vote-buttons-skip" ng-click="vm.vote(0)"><span class="sr-only">Pular esta proposta.</span> <span class="icon" aria-hidden="true"></span> Pular</button></div></div></div><div class="col-lg-12"><div class="col-xs-8 col-xs-offset-2 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class="text-center"><button class="btn btn-link" ng-click="vm.showResults()">Resultados</button></div></div></div><div class="col-md-12"><div class="col-xs-12"><div class="text-center"><span>Compartilhe esta proposta</span><social-share></social-share></div></div></div><div class="clearfix"></div></div></div></div></div></div><div class="talk-proposal row proposal-row"><div class="row-height"><div class="col-md-12 col-height"><div class=""><h2>Bate-papo virtual com ministr@s</h2></div></div></div></div></section></article>'),
a.put("app/components/auth-user/auth-user.html",'<div class="auth-user"><div ng-if="vm.currentUser" class="pull-right"><span ng-if="vm.currentUser.person">{{::vm.currentUser.person.name}}</span> <span ng-if="!vm.currentUser.person">{{::vm.currentUser.login}}</span> <span>|</span> <button type="button" class="btn btn-link" ng-click="vm.onClickLogout()">Sair</button></div><div ng-if="!vm.currentUser"><button type="button" class="btn btn-link pull-right" ui-sref="entrar">Entrar</button></div></div>'),a.put("app/components/breadcrumb/template.html",'<div class="custom-breadcrumb"><ol class="breadcrumb"><li ng-repeat="step in steps | limitTo:(steps.length-1)"><a href="{{step.ncyBreadcrumbLink}}" ng-if="$index === 0" ng-class="{\'item-home\': $index === 0}"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a> <a href="{{step.ncyBreadcrumbLink}}" ng-if="$index !== 0" ng-class="{\'item-home\': $index === 0}" ng-bind-html="step.ncyBreadcrumbLabel"></a></li><li ng-repeat="step in steps | limitTo:-1" class="active"><span ng-bind-html="step.ncyBreadcrumbLabel"></span></li></ol></div>'),a.put("app/components/cadastro-proposta/cadastro-proposta.html",'<div id="message" class="envio-proposta"><div class="row linha-proposta"><div class="col-sm-8"><span class="titulo-envio-proposta">Faça sua proposta</span><p>Aqui você cadastra sua proposta e ajuda a construir um Brasil melhor.</p></div></div><div class="row linha-proposta"><div class="col-sm-8"><p>Você está fazendo uma proposta para o programa:</p><div class="bloco-programa"><span class="texto-programa">{{::vm.program.title}}</span></div></div></div><form role="form" name="formPropostas" ng-submit="vm.sendProposal(proposta)" novalidate=""><div class="form-group"><div class="row linha-proposta"><div class="col-sm-8"><label for="proposta-textarea">Descrição da proposta*</label> <a tabindex="0" class="btn btn-link btn-question" role="button" data-toggle="popover" data-trigger="focus">?</a> <textarea id="proposta-textarea" name="proposta" class="texto-proposta form-control" ng-class="{ \'has-error\' : formPropostas.proposta.$invalid && formPropostas.proposta.$touched }" ng-model="proposta" ng-trim="false" ng-maxlength="200" maxlength="200" required=""></textarea><validation-messages field="formPropostas.proposta" maxlength="\'Ops, esse campo não pode ser maior que 200 caracteres.\'"></validation-messages><div class="row"><div class="col-xs-6"><span>*Dados obrigatórios</span></div><div class="col-xs-6 text-right"><span>Máx. 200 caracteres</span> <span ng-if="proposta.length > 0">(restam {{(200 - proposta.length)}} caracteres)</span></div></div></div></div></div><div class="form-group"><div class="col-sm-4"><button class="btn btn-lg btn-block btn-submit" type="submit">Enviar Proposta</button></div></div></form></div>'),a.put("app/components/category-list/category-list.html",'<div class="category-list" ng-class="vm.selectedCategory.slug"><nav class="navigation"><h3 class="category-list--title" ng-click="vm.toogleList()"><b>Filtrar</b> por Tema <span class="glyphicon glyphicon-filter pull-right"></span></h3><div class="list-group is-mobile js-list-group"><button type="button" class="list-group-item category-list--item" ng-repeat="category in vm.categories" ng-class="{active: vm.selectedCategory.slug === category.slug}" ng-click="vm.selectCategory(category, $event)"><span class="category-list--icon-circle" aria-hidden="true" ng-class="category.slug"></span> <span class="category-list--icon icon" aria-hidden="true" ng-class="\'icon-tema-\' + category.slug + \'-small\'"></span> <span class="category-list--label">{{::category.name}}</span> <span class="category-list--icon--right glyphicon glyphicon-chevron-right hidden-xs" ng-hide="vm.selectedCategory.slug === category.slug"></span> <span ng-if="vm.showCloseBtn" class="category-list--icon--right glyphicon glyphicon-remove hidden-xs" ng-show="vm.selectedCategory.slug === category.slug"></span><div ng-if="category.archived" class="category-list--icon-archived"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div></button></div><div class="list-group is-mobile js-selected-category"><button type="button" class="list-group-item category-list--item active" ng-if="vm.isCollapsed"><span class="category-list--icon-circle" aria-hidden="true" ng-class="vm.selectedCategory.slug"></span> <span class="category-list--icon icon" aria-hidden="true" ng-class="\'icon-tema-\' + vm.selectedCategory.slug + \'-small\'"></span> <span class="category-list--label">{{vm.selectedCategory.name}}</span> <span class="category-list--icon--right glyphicon glyphicon-chevron-right hidden-xs"></span><div ng-if="vm.selectedCategory.archived" class="category-list--icon-archived"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div></button></div></nav></div>'),a.put("app/components/event-list/event-list.html",'<div class="event-list"><section class="color-theme-common-bg"><div class="container"><div class="event-bar--trigger" ng-click="vm.toggleView()"><div class="event-bar--trigger-top"><div class="col-sm-6"><h1 class="title"><span class="glyphicon glyphicon-calendar icon-circle color-theme-common-fg"></span> Agenda <b>Dialoga Brasil</b></h1></div><div class="col-sm-6 text-right"><h2 class="event-bar--trigger-toggle text-right"><span><b>{{vm.events.length}}</b> bate papos <b>agendados</b></span> <span ng-if="vm.isCollapsed" class="glyphicon glyphicon-menu-down" aria-hidden="true"></span> <span ng-if="!vm.isCollapsed" class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></h2></div></div><div class="clearfix"></div></div></div></section><section class="section-table"><div class="container"><div class="event-list--panel ng-hide" ng-show="!vm.isCollapsed"><div class="event-list--table-wrapper"><div class="row row-level-1" ng-repeat="event in vm.events | orderBy:\'start_date\':false"><div class="col-xs-12 col-sm-4 col-md-3 vcenter"><span class="date-wrapper"><span class="glyphicon glyphicon-calendar"></span> <span class="date">{{event.start_date | date : "dd/MM/yyyy"}}</span></span> <span class="time-wrapper"><span class="glyphicon glyphicon-time"></span> <span class="time">{{event.start_date | date : "HH:mm"}}</span></span></div><div class="col-xs-12 col-sm-4 col-md-5 vcenter"><span class="description">{{::event.setting.presenter}}</span></div><div class="col-xs-12 col-sm-4 col-md-4 text-right vcenter" style="padding-right: 20px;"><div class="row"><div class="col-xs-6 text-right"><div ng-if="event.followers_count > 50"><b>{{::event.followers_count}}</b><br><span>Inscritos</span></div></div><div class="col-xs-6"><div ng-show="!event.already_follow"><button type="button" class="btn btn-subscribe" ng-click="vm.subscribe(event)">Inscreva-se <span class="sr-only">no bate-papo com (ministro) no dia {event.start_date | date : "dd/MM/yyyy"}} as {{event.start_date | date : "HH:mm"}} horas</span></button></div><div ng-show="event.already_follow"><button type="button" class="btn btn-subscribed disabled" disabled="disabled"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Inscrito <span class="sr-only">Você já está inscrito neste evento.</span></button></div></div></div></div></div></div></div></div><div class="container visible-xs" ng-show="!vm.isCollapsed"><div class="minimize" ng-click="vm.toggleView()"><div class="row color-theme-common-bg"><div class="col-xs-6"><button type="button" class="btn btn-link" ng-click="">MINIMIZAR</button></div><div class="col-xs-5 text-right"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></div></div></div></div></section></div>'),a.put("app/components/proposal-box/proposal-box.html",'<div class="proposal-box" ng-class="[{\'focus\': (vm.focus || (vm.STATE === vm.VOTE_STATUS.LOADING) )}, vm.category.slug]"><div ng-show="(vm.STATE === vm.VOTE_STATUS.SUCCESS) || (vm.STATE === vm.VOTE_STATUS.ERROR)"><div class="proposal-message-panel"><div class="row"><div class="row-height"><div class="col-sm-12 col-height col-middle"><div class="inside inside-full-height"><div class="content text-center show-message"><div class="row"><div class="col-xs-12"><div class="message-icon color-fg-white" ng-class="{\'success\': (vm.STATE === vm.VOTE_STATUS.SUCCESS), \'error\': vm.STATE === vm.VOTE_STATUS.ERROR}"><span ng-if="vm.STATE === vm.VOTE_STATUS.SUCCESS" class="glyphicon glyphicon-ok" aria-hidden="true"></span> <span ng-if="vm.STATE === vm.VOTE_STATUS.ERROR" class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div></div><div class="row"><div class="col-xs-12"><div class="feedback" ng-if="vm.STATE === vm.VOTE_STATUS.SUCCESS"><p class="feedback--title">Obrigado por participar!</p><div class="row feedback--message"><div class="col-xs-6 feedback--share"><div class="row"><span>Compartilhe<br>esta proposta</span></div><div class="row"><button class="btn btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Mostrar ou esconder a lista redes sociais para compartilhamento"><span class="icon icon-social-share" aria-hidden="true"></span></button><social-share social-url="vm.getSocialUrl()" social-text="vm.getSocialText()" social-image="vm.getSocialImage()" class="dropdown-menu dropdown-menu-right"></social-share></div></div><div class="col-xs-6 feedback--next"><div class="row"><span>Próxima<br>proposta</span></div><div class="row"><button class="btn btn-link" aria-label="Ir para próxima proposta" ng-click="vm.skip()"><div class="icon-circle play"><span class="glyphicon glyphicon-play" aria-hidden="true"></span></div></button></div></div></div></div><div class="feedback" ng-if="vm.STATE === vm.VOTE_STATUS.ERROR"><p class="feedback--title">Erro!</p><p class="feedback--message" ng-if="vm.messageCode === 401">Não autorizado. Insira um novo captcha.<br><button type="button" class="btn btn-link" ng-click="vm.captchaTryAgain()">Gerar novo captcha</button></p></div></div></div></div></div></div></div></div></div></div><div ng-show="vm.showCaptchaForm"><div class="proposal-message-panel"><div class="row"><div class="row-height"><div class="col-sm-12 col-height col-middle"><div class="inside inside-full-height"><div class="content text-center"><div ng-show="vm.sendingCaptcha"><p>Enviando captcha...</p></div><div ng-hide="vm.sendingCaptcha"><div class="row feedback-message" ng-show="vm.sendingCaptchaError"><div class="col-sm-12"><div class="feedback--title alert alert-danger">Erro!</div><div class="feedback--message" ng-if="!vm.message"><p ng-bind-html="vm.sendingCaptchaError.message"></p></div><div><button type="reset" class="btn btn-link" ng-click="vm.captchaTryAgain()">Tentar novamente</button> <button type="reset" class="btn btn-link" ng-click="vm.showCaptchaForm = false">Voltar</button></div></div></div><div ng-hide="vm.sendingCaptchaError"><form name="captchaForm" ng-submit="vm.submitCaptcha($event, captchaForm)"><div class="form-group"><div id="serpro_captcha" class="captcha"></div><div class="captcha">Digite os caracteres acima:</div><div class="captcha"><input type="text" name="captcha_text" id="captcha_text" aria-label="Escreva os caracteres do captcha aqui" ng-model="vm._captcha_text" ng-minlength="" ng-maxlength="" required=""><validation-messages field="captchaForm.captcha_text"></validation-messages></div></div><div class="form-group"><button type="submit" class="btn btn-lg btn-block btn-submit">Enviar</button></div><div class="form-group"><button type="reset" class="btn btn-link" ng-click="vm.showCaptchaForm = false">Voltar</button></div></form></div></div></div></div></div></div></div></div></div><div ng-show="vm.STATE === vm.VOTE_STATUS.LOADING"><div class="proposal-message-panel"><div class="row"><div class="row-height"><div class="col-sm-12 col-height col-middle"><div class="inside inside-full-height"><div class="content text-center"><div ng-show="!vm.errorOnSkip"><p>Carregando...</p></div><div ng-show="vm.errorOnSkip"><p>Erro ao carregar nova proposta proposta.</p></div></div></div></div></div></div></div></div><div class="proposal-box--top"><div class="proposal-box--theme color-theme-bg-complementar-2">{{vm.category.name}}</div><div ng-show="vm.ProposalBody"><div class="proposal-box--program color-theme-bg">{{vm.topic.title}}</div></div><div ng-show="!vm.ProposalBody"><div class="color-theme-bg" style="background: url( {{::vm.proposalsImg}} );"><div class="img-mask--background proposal-box--program">{{vm.topic.title}}</div></div></div></div><div class="proposal-box--middle"><div class="proposal-box--content"><div class="proposal-box--content-inner">{{vm.proposal.abstract}}</div></div><div ng-hide="vm.showVote" class="proposal-box--join"><a class="btn btn-link color-theme-common-fg" ng-if="vm.archived === false" ui-sref="programa({slug: vm.topic.slug, proposal_id: vm.proposal.id})" ui-sref-opts="{location: true}">Participe</a></div><div ng-show="vm.showVote" class="proposal-box--actions text-center"><div class="row"><div class="col-xs-4"><div class="action vote_for" ng-click="vm.vote(vm.VOTE_OPTIONS.UP)"><div class="icon-circle"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div><div class="action-label">Apoio</div></div></div><div class="col-xs-4"><div class="action skip" ng-click="vm.skip()"><div class="icon-circle"><span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span></div><div class="action-label">Pular</div></div></div><div class="col-xs-4"><div class="action vote_against" ng-click="vm.vote(vm.VOTE_OPTIONS.DOWN)"><div class="icon-circle"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="action-label">Não Apoio</div></div></div></div></div></div><div class="proposal-box--bottom text-center" ng-class="{archived: vm.archived}"><div class="proposal-box--share" ng-class="{\'text-right\': vm.location == \'/respostas\' }"><span ng-hide="vm.location == \'/respostas\'">COMPARTILHE ESTA <b>PROPOSTA</b></span><div class="dropdown"><button id="dropdown-share-btn" class="btn btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Mostrar ou esconder a lista redes sociais para compartilhamento"><span class="icon icon-social-share-small" aria-hidden="true"></span></button><social-share class="dropdown-menu dropdown-menu-right"></social-share><social-share social-url="vm.getSocialUrl()" social-text="vm.getSocialText()" social-image="vm.getSocialImage()" class="dropdown-menu dropdown-menu-right"></social-share></div></div><div ng-if="vm.archived === true"><div class="proposal-box--archived color-theme-bg-complementar-2"><div class="proposal-box--archived-inner"><a ui-sref="programa({slug: vm.topic.slug, proposal_id: vm.proposal.id})" ui-sref-opts="{location: true}">Veja as respostas e compromissos assumidos <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a></div></div></div><div ng-if="vm.archived === false"><div class="proposal-box--ranking"><div class="proposal-box--ranking-inner"><span class="icon icon-small icon-ranking" aria-hidden="true"></span> <span>Colocação nos resultados:</span> <span>{{vm.proposal.ranking_position}}º</span></div></div></div></div></div>'),a.put("app/components/proposal-carousel/proposal-carousel.html",'<div class="proposal-carousel"><div ng-if="vm.proposals"><div class="proposal-carousel-top color-theme-bg-complementar-2"><div class="proposal-carousel-position" ng-repeat="proposal in vm.proposals"><span ng-show="vm.activeIndex === $index">{{::($index+1)}}º</span> <span ng-show="vm.activeIndex === $index">Lugar</span></div><div class="proposal-carousel-top-triggers" ng-if="vm.proposals"><ul class="list-inline"><li class="item-dot" ng-repeat="proposal in vm.proposals"><button type="button" ng-class="{\'active\': vm.activeIndex === $index}" ng-click="vm.switchProposal($index)" title="Apersentar proposta {{ ( $index + 1 ) }}"></button></li></ul></div></div><div class="proposal-carousel-middle" ng-swipe-left="vm.swipeLeft()" ng-swipe-right="vm.swipeRight()"><div ng-repeat="proposal in vm.proposals" class="animation-swipe"><div class="content"><div ng-show="vm.activeIndex === $index"><div class="inner">{{::proposal.abstract}}</div></div></div><div class="join" ng-if="vm.archived === false" ng-show="vm.activeIndex === $index"><button type="button" class="btn btn-link btn-rate color-theme-common-fg" ng-click="vm.showContent(proposal)">Participe <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></button></div><div class="proposal-carousel-middle-watermark" ng-show="vm.activeIndex === $index"><span>{{::($index+1)}}º</span></div></div></div><div class="proposal-carousel-bottom color-theme-common-bg" ng-click="vm.showProposalsList()"><div>Veja as propostas mais votadas</div><div class="proposal-carousel-bottom-icon"><span class="glyphicon glyphicon-chevron-down pull-right color-theme-common-fg" aria-hidden="true"></span></div></div></div></div>'),a.put("app/components/proposal-grid/proposal-grid.html",'<div class="proposal-grid row"><div ng-repeat="proposal in vm.proposals as results"><proposal-box archived="proposal.parent.archived" proposal="proposal" topic="proposal.parent" category="proposal.parent.categories[0]" show-vote="false" class="col-xs-12 col-sm-6" location="vm.$location.path()"></proposal-box><div ng-if="$odd" class="clearfix"></div></div><div class="animate-repeat" ng-if="results.length == 0">Nenhum programa encontrado.</div></div>'),a.put("app/components/proposal-list/proposal-list.html",'<div class="proposal-list"><div class="" ng-if="vm.proposals"><table class="table table-striped"><thead><tr><th>Colocação <a tabindex="0" class="btn btn-link btn-question" role="button" data-toggle="popover" data-trigger="focus">?</a></th><th><span>{{vm.proposals.length}} PROPOSTAS</span> <span class="pull-right">Posição atualizada a cada 5 minutos</span></th></tr></thead><tbody><tr ng-repeat="proposal in vm.proposals | orderBy:[\'ranking_position\',\'position\']"><td class="color-theme-fg"><span ng-show="proposal.ranking_position" class="position">{{::proposal.ranking_position}}º</span> <span ng-show="proposal.position" class="position">{{::proposal.position}}º</span></td><td><div class="row"><div class="col-xs-12"><div class="abstract" ng-bind-html="proposal.abstract"></div></div></div><div class="row row-actions"><div class="col-sm-8"><div ng-if="proposal.parent.archived === false"><button type="button" class="btn btn-link btn-rate color-theme-common-fg" ng-click="vm.showContent(proposal)">Participe</button></div><div ng-if="proposal.parent.archived === true"><button type="button" class="btn btn-link btn-rate color-theme-common-fg" ng-click="vm.showContent(proposal)">Ir para o programa</button></div></div><div class="col-sm-4"><proposal-stats class="text-right" views="{{::proposal.hits}}" up="{{::proposal.votes_for}}" down="{{::proposal.votes_against}}"></proposal-stats></div></div></td></tr></tbody></table></div></div>'),a.put("app/components/proposal-stats/proposal-stats.html",'<div class="proposal-stats"><ul class="list-inline"><li class="proposal-stats-up"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> <span>{{proposal.votes_for}}</span></li><li class="proposal-stats-down"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> <span>{{proposal.votes_against}}</span></li><li class="proposal-stats-views"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> <span>{{proposal.hits}}</span></li></ul></div>'),a.put("app/components/show-message/show-message.html",'<div id="message" class="show-message"><div class="row"><div class="col-sm-2 col-sm-offset-2 message-icon-wrapper text-right text-center-sm"><div class="message-icon text-center color-fg-white" ng-class="[vm.type]"><span ng-if="vm.type === \'success\'" class="glyphicon glyphicon-ok" aria-hidden="true"></span> <span ng-if="vm.type === \'alert\'" class="glyphicon glyphicon-alert" aria-hidden="true"></span> <span ng-if="vm.type === \'error\'" class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div><div class="col-sm-8 message-content text-center-sm"><h3>{{ ::vm.message }}</h3><div ng-bind-html="vm.description"></div></div></div></div>'),a.put("app/components/social-share/social-share.html",'<div ng-if="vm.arrowClass"><div ng-class="vm.arrowClass"></div></div><ul class="social-share list-inline"><li class="social-share--item-facebook"><a href="#" role="button" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-via="{{vm.socialVia}}" socialshare-url="{{vm.socialUrl}}" socialshare-redirect-uri="https://dialoga.gov.br/" socialshare-media="{{vm.socialImage}}" socialshare-text="{{vm.socialText}}" title="Compartilhar no Facebook"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-facebook"><span class="icon icon-social-facebook"></span></span> <span class="sr-only">Compartilhar no Facebook</span></a></li><li class="social-share--item-twitter"><a href="#" role="button" socialshare="" socialshare-provider="twitter" socialshare-url="{{vm.socialUrl}}" socialshare-text="{{vm.socialText}}" socialshare-hastags="dialogabrasil" title="Compartilhar no Twitter"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-twitter"><span class="icon icon-social-twitter"></span></span> <span class="sr-only">Compartilhar no Twitter</span></a></li><li class="social-share--item-google"><a href="#" role="button" socialshare="" socialshare-provider="google+" socialshare-url="{{vm.socialUrl}}" socialshare-text="{{vm.socialText}}" title="Compartilhar no Google Plus"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-googleplus"><span class="icon icon-social-googleplus"></span></span> <span class="sr-only">Compartilhar no Google Plus</span></a></li><li class="social-share--item-whatsapp"><a href="whatsapp://send?text=Dialoga Brasil - {{vm.socialUrl}}" title="Compartilhar no WhatsApp"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-whatsapp"><span class="icon icon-social-whatsapp"></span></span> <span class="sr-only">Compartilhar no WhatsApp</span></a></li></ul>'),a.put("app/components/topics-select/topics-select.html",'<div class="topics-select"><h3 class="category-list--title">Filtrar por <b>Programa</b></h3><div class="topics-dropdown"><select ng-model="vm.selectedTopic" ng-change="vm.selectTopic()" ng-options="topic.title for topic in vm.topics track by topic.slug" class="form-control"></select></div></div>'),a.put("app/components/validation-messages/validation-messages.html",'<div ng-show="vm.field.$touched"><div ng-messages="vm.field.$error"><div class="error-message"><div ng-message="required">{{vm.required}}</div><div ng-message="minlength">{{vm.minlength}}</div><div ng-message="maxlength">{{vm.maxlength}}</div><div ng-message="email">{{vm.email}}</div></div></div></div>'),a.put("app/pages/article/article.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="container" role="main"><div class="row"><div ng-if="pageArticle.loading"><div class="alert alert-info">Carregando conteúdo...</div></div><div ng-if="pageArticle.error"><div class="alert alert-info">Erro ao carregar conteúdo.</div></div></div></div><div class="container" ng-if="pageArticle.article"><div class="row"><div class="col-sm-12"><h1>{{::pageArticle.article.title}}</h1></div></div></div><div class="container"><div class="row"><div class="col-sm-12"><div ng-bind-html="pageArticle.article.body"></div></div></div></div>'),a.put("app/pages/auth/active.html",'<div class="page--auth-active"><div class="container"><div class="row"><div class="col-sm-12"><h2>Ativar conta</h2></div></div></div><section role="main" class="section-gray vertical-padding"><div class="container"><div class="row"><div class="col-sm-8 col-sm-offset-2"><div ng-if="pageActive.loading"><h3>Aguarde...</h3><p>Estamos ativando a sua conta ({{::pageActive.activation_code}}).</p></div><div ng-if="pageActive.successMessageTitle"><show-message type="\'success\'" message="pageActive.successMessageTitle" description="pageActive.successMessageContent"></show-message><div class="row"><div class="col-sm-8 col-sm-offset-4"><p><a ui-sref="entrar" class="btn btn-default">Entrar</a></p></div></div></div><div ng-if="pageActive.errorMessageTitle"><show-message type="\'error\'" message="pageActive.errorMessageTitle" description="pageActive.errorMessageContent"></show-message><div class="row"><div class="col-sm-8 col-sm-offset-4"><p><a ui-sref="reenviar-email" class="btn btn-default">Re-enviar e-mail de confirmação</a></p></div></div></div></div></div></div></section></div>'),a.put("app/pages/auth/new-password.html",'<div class="page--new-password"><div class="container"><div class="row"><div class="col-sm-12"><h2>Cadastrar nova senha</h2><h5>Agora é só informar e confirmar sua nova senha.</h5></div></div></div><section role="main" class="section-gray vertical-padding"><div class="container"><div class="row"><div class="col-sm-8 col-sm-offset-2"><div ng-if="pageNewPassword.loading"><h3>Aguarde...</h3><p>Estamos configurando a sua nova senha.</p></div><div ng-if="!pageNewPassword.loading"><div ng-if="pageNewPassword.submitNewPasswordSuccess"><div class="alert alert-success"><strong>Feito!</strong> Sua senha foi configurada com sucesso.</div></div><div ng-if="pageNewPassword.submitNewPasswordError"><div class="alert alert-danger"><strong>Erro!</strong> {{::pageNewPassword.submitNewPasswordErrorMessage}}</div><p>Tente novamente ou <a ui-sref="duvidas">entre em contato</a>.</p></div><form novalidate="" name="newPasswordForm" ng-submit="newPasswordForm.$valid && pageNewPassword.submitNewPassword($event, newPasswordForm)"><div class="row"><div class="col-md-6"><div class="form-group"><label for="newPassword">Senha*</label> <input type="password" id="newPassword" name="newPassword" class="form-control input-lg" ng-class="{ \'has-error\' : newPasswordForm.newPassword.$invalid && newPasswordForm.newPassword.$touched }" ng-minlength="6" ng-model="newPassword" required=""><validation-messages field="newPasswordForm.newPassword"></validation-messages></div></div><div class="col-md-6"><div class="form-group"><label for="newPasswordConfirmation">Confirmar senha*</label> <input type="password" id="newPasswordConfirmation" name="newPasswordConfirmation" class="form-control input-lg" ng-class="{ \'has-error\' : newPasswordForm.newPasswordConfirmation.$invalid && newPasswordForm.newPasswordConfirmation.$touched }" ng-minlength="6" ng-model="newPasswordConfirmation" required=""><validation-messages field="newPasswordForm.newPasswordConfirmation"></validation-messages></div></div></div><div class="row"><div class="col-sm-12" ng-show="(newPasswordForm.newPassword.$viewValue.length > 0 && newPasswordForm.newPasswordConfirmation.$viewValue.length > 0) && (newPasswordForm.newPassword.$viewValue !== newPasswordForm.newPasswordConfirmation.$viewValue)"><div class="error-message">As senhas estão diferentes.</div></div><div class="col-sm-12"><div class="text" ng-show="newPasswordForm.newPassword.$viewValue.length > 0 && newPasswordForm.newPassword.$viewValue.length < 6"><div class="error-message">A senha deve ter 6 ou mais caracteres e conter números e letras.</div></div></div></div><br><div class="row"><div class="col-md-6 col-sm-offset-3"><div class="form-group"><button class="btn btn-lg btn-block btn-submit" type="submit" ng-disabled="newPasswordForm.$invalid || ((newPasswordForm.newPassword.$viewValue.length > 0 && newPasswordForm.newPasswordConfirmation.$viewValue.length > 0) && (newPasswordForm.newPassword.$viewValue !== newPasswordForm.newPasswordConfirmation.$viewValue))">Confirmar alteração de senha</button></div></div></div></form></div></div></div></div></section></div>'),a.put("app/pages/auth/recover.html",'<div class="page--recover"><div class="container"><div class="row"><div class="col-sm-12"><h2>Esqueci minha senha</h2><h5>Calma, podemos ajudar! Informe o seu e-mail que a gente envia um link de alteração.</h5></div></div></div><section role="main" class="section-gray vertical-padding"><div class="container"><div class="row"><div ng-if="pageAuth.recoverSuccess"><div class="col-sm-8 col-sm-offset-2"><div class="feedback-message"><show-message type="\'success\'" message="\'Pronto!\'" description="\'Em instantes você receberá em seu e-mail um link para criação de uma nova senha.\'"></show-message><div class="row"><div class="col-sm-8 col-sm-offset-4"><p><a ui-sref="inicio">Ir para página inicial</a></p></div></div></div></div></div><div ng-if="!pageAuth.recoverSuccess"><br><div class="col-sm-8 col-sm-offset-2"><div class="row" ng-if="pageAuth.recoverError"><div class="col-sm-12"><div class="alert alert-danger">{{pageAuth.recoverErrorMessage}}</div><div ng-if="vm.internalError"><p>Este erro parece ser um problema interno.<br>Por favor, tente novamente mais tarde.</p><p>Caso o problema persista, entre em contato!</p><p><a ui-sref="duvidas">Ir para página de contato</a></p></div></div></div><div class="row"><div class="col-md-12"><form name="recoverPassForm" ng-submit="pageAuth.submitRecover($event, recoverPassForm)"><div class="form-group"><label for="recover-login">E-mail*</label> <input type="email" id="recover-login" name="login" class="form-control input-lg" ng-class="{ \'has-error\' : recoverPassForm.login.$invalid && recoverPassForm.login.$touched }" ng-model="pageAuth.credentials.username" required=""><validation-messages field="recoverPassForm.login"></validation-messages></div><div class="form-group"><div id="serpro_captcha" class="captcha"></div><div class="captcha">Digite os caracteres acima:</div><div class="captcha"><input type="text" name="captcha_text" id="captcha_text" aria-label="Escreva os caracteres do captcha aqui" ng-model="pageAuth.signup.captcha_text" ng-minlength="" ng-maxlength="" required=""><validation-messages field="recoverPassForm.captcha_text"></validation-messages></div></div><div class="form-group"><button class="btn btn-lg btn-submit" type="submit">Solicitar alteração de senha</button></div></form></div></div></div><br></div></div></div></section></div>'),a.put("app/pages/auth/resend-confirmation.html",'<div class="page--resend-confirmation"><div class="container"><div class="row"><div class="col-sm-12"><h2>Não recebeu o e-mail de confirmação?</h2><h5>Calma, podemos te ajudar!<br>Basta informar o seu e-mail cadastrado que a gente envia um novo e-mail de confirmação.</h5></div></div></div><section role="main" class="section-gray vertical-padding"><div class="container"><div class="row"><div ng-if="pageAuth.resendConfirmationSuccess"><div class="col-sm-8 col-sm-offset-2"><div class="feedback-message"><show-message type="\'success\'" message="pageAuth.resendConfirmationSuccessTitle" description="pageAuth.resendConfirmationSuccessMessage"></show-message><div class="row"><div class="col-sm-8 col-sm-offset-4"><p>Ir para: <a ui-sref="inicio" class="btn btn-default">Página inicial</a> ou <a ui-sref="entrar" class="btn btn-primary">Entrar</a></p></div></div></div></div></div><div ng-if="!pageAuth.resendConfirmationSuccess"><br><div class="col-sm-8 col-sm-offset-2"><div class="row" ng-if="pageAuth.resendConfirmationError"><div class="col-sm-12"><div class="alert alert-danger"><strong>Erro!</strong> O e-mail informado não possui cadastro no Dialoga Brasil.</div><div ng-if="pageAuth.internalError"><p>Este erro parece ser um problema interno.<br>Por favor, tente novamente mais tarde.</p><p>Caso o problema persista, entre em contato!</p><p><a ui-sref="duvidas">Ir para página de contato</a></p></div></div></div><div class="row"><div class="col-md-12"><form name="confirmationForm" ng-submit="pageAuth.submitConfirmationForm($event, confirmationForm)"><div class="form-group"><label for="confirmation-login">E-mail*</label> <input type="email" id="confirmation-login" name="login" class="form-control input-lg" ng-class="{ \'has-error\' : confirmationForm.login.$invalid && confirmationForm.login.$touched }" ng-model="pageAuth.credentials.username" required=""><validation-messages field="confirmationForm.login"></validation-messages></div><div class="form-group"><div id="serpro_captcha" class="captcha"></div><div class="captcha">Digite os caracteres acima:</div><div class="captcha"><input type="text" name="captcha_text" id="captcha_text" aria-label="Escreva os caracteres do captcha aqui" ng-model="pageAuth.signup.captcha_text" ng-minlength="" ng-maxlength="" required=""><validation-messages field="confirmationForm.captcha_text"></validation-messages></div></div><div class="form-group"><button class="btn btn-lg btn-submit" type="submit">Solicitar novo e-mail de confirmação</button></div></form></div></div></div><br></div></div></div></section></div>'),
a.put("app/pages/auth/signin.html",'<div class="container"><div class="row"><div class="col-sm-12"><h2>Cadastrar ou entrar</h2></div></div></div><section role="main" class="section-gray auth-content"><div class="container"><div class="row"><div ng-if="pageAuth.signupSuccess || pageAuth.confirmSuccess || pageAuth.signinSuccess"><div class="row"><div class="col-sm-8 col-sm-offset-2"><div class="feedback-message"><div ng-if="pageAuth.signupSuccess"><show-message type="\'success\'" message="\'Cadastro efetuado com sucesso :)\'" description="\'Agora você faz parte do Dialoga Brasil. Em instantes você receberá um link de ativação em seu e-mail. Basta clicar e ativar.\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><a class="btn btn-link" ui-sref="reenviar-email" style="padding: 10px 0;" title="Re-enviar e-mail de confirmação."><span class="glyphicon glyphicon-chevron-right" aria-hidden=""></span>Não recebi o e-mail.</a></div></div></div><div ng-if="pageAuth.confirmSuccess"><show-message type="\'success\'" message="\'Pronto!\'" description="\'Agora você faz parte do Dialoga Brasil.\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><div ng-if="pageAuth.countdown > 0"><p>Você será redirecionado para a página inicial em <b>{{pageAuth.countdown}} segundos</b>.</p></div><div ng-if="!pageAuth.hasRedirect"><a ui-sref="inicio" class="btn btn-primary">Ir para a Página Inicial</a></div></div></div></div><div ng-if="pageAuth.signinSuccess"><show-message type="\'success\'" message="\'Login efetuado com sucesso!\'" description="\'\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><div ng-if="pageAuth.countdown > 0"><p>Você será redirecionado para a página anterior em <b>{{pageAuth.countdown}} segundos</b>.</p></div><div ng-if="!pageAuth.hasRedirect"><a ui-sref="inicio" class="btn btn-primary">Ir para a Página Inicial</a> ou <button type="button" class="btn btn-default" ng-click="vm.onClickLogout()">Sair</button></div></div></div></div></div></div></div></div><div ng-if="pageAuth.currentUser && !(pageAuth.signupSuccess || pageAuth.confirmSuccess || pageAuth.signinSuccess)"><br><show-message type="\'success\'" message="\'Você já está logado!\'" description="\'Mas você ainda pode:\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><div ng-if="!pageAuth.hasRedirect"><a ui-sref="inicio" class="btn btn-primary">Ir para a Página Inicial</a> ou <button type="button" class="btn btn-default" ng-click="vm.onClickLogout()">Sair</button></div></div></div><br></div><div ng-if="!pageAuth.currentUser && !(pageAuth.signupSuccess || pageAuth.confirmSuccess || pageAuth.signinSuccess)"><div class="col-sm-5"><div class="row"><div class="col-md-12"><h2>Já possui cadastro?</h2><p>Use seus dados para acessar o Dialoga Brasil</p><div ng-if="pageAuth.signinError"><div class="alert alert-danger" role="alert"><strong>{{pageAuth.signinErrorTitle}}</strong> {{pageAuth.signinErrorContent}}</div></div><form role="form" name="signinForm" ng-submit="pageAuth.submitSignin(pageAuth.signin)" novalidate=""><div class="form-group"><label for="signin-form--login">E-mail*</label> <input type="email" id="signin-form--login" name="login" class="form-control input-lg" ng-class="{ \'has-error\' : signinForm.login.$invalid && signinForm.login.$touched }" ng-model="pageAuth.signin.username" required=""><validation-messages field="signinForm.login"></validation-messages></div><div class="form-group"><label for="signin-form--password">Senha*</label> <input type="password" id="signin-form--password" name="password" class="form-control input-lg" ng-class="{ \'has-error\' : signinForm.password.$invalid && signinForm.password.$touched }" ng-model="pageAuth.signin.password" required=""><validation-messages field="signinForm.password"></validation-messages></div><div class="form-group"><button class="btn btn-lg btn-block btn-submit" type="submit">Entrar</button></div><div class="form-group"><a ui-sref="recuperar" class="btn btn-lg btn-link" style="padding: 10px 0;">Esqueci minha senha</a></div></form></div></div><div class="row"><div class="col-md-12"><hr class="separator separator-or"></div></div><div class="row"><div class="col-xs-6"><button type="button" ng-click="pageAuth.authWithFacebook()" class="btn btn-lg btn-block btn-social btn-facebook"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-facebook"><span class="icon icon-social-facebook"></span></span> <span class="text">Entrar com Facebook</span></button></div><div class="col-xs-6"><button type="button" ng-click="pageAuth.authWithGooglePlus()" class="btn btn-lg btn-block btn-social btn-google-plus"><span aria-hidden="true" class="icon-circle icon-small icon-circle-social-googleplus"><span class="icon icon-social-googleplus"></span></span> <span class="text">Entrar com Google+</span></button></div></div></div><div class="col-sm-1"></div><div class="col-sm-6"><div class="row"><div class="col-sm-12"><h2>Ou cadastre-se</h2><p>Para fazer parte do Dialoga Brasil, interagir com as propostas e enviar as suas!</p></div></div><div class="row" ng-if="pageAuth.signupError"><div class="col-sm-12"><div class="alert alert-danger"><strong>{{pageAuth.signupErrorTitle}}</strong> {{pageAuth.signupErrorMessage}}</div><div ng-if="vm.internalError"><p>Este erro parece ser um problema interno.<br>Por favor, tente novamente mais tarde.</p><p>Caso o problema persista, entre em contato!</p><p><a ui-sref="duvidas">Ir para página de contato</a></p></div></div></div><div class="row"><div class="col-sm-12"><form name="signupForm" ng-submit="pageAuth.submitSignup($event, pageAuth.signup)"><div class="form-group"><label for="signup-form--name">Nome*:</label> <span class="pull-right">*Dados obrigatórios</span> <input type="text" id="signup-form--name" name="name" class="form-control input-lg" ng-class="{ \'has-error\' : signupForm.name.$invalid && signupForm.name.$touched }" ng-model="pageAuth.signup.name" ng-minlength="" ng-maxlength="" required=""><validation-messages field="signupForm.name"></validation-messages></div><div class="form-group"><label for="signup-form--email">E-mail*:</label> <input type="email" id="signup-form--email" name="email" class="form-control input-lg" ng-class="{ \'has-error\' : signupForm.email.$invalid && signupForm.email.$touched }" ng-model="pageAuth.signup.email" ng-minlength="" ng-maxlength="" required=""><validation-messages field="signupForm.email"></validation-messages></div><div class="row"><div class="col-sm-6"><div class="form-group"><label for="signup-form--password">Senha*:</label> <input type="password" id="signup-form--password" name="password" class="form-control input-lg" ng-class="{ \'has-error\' : signupForm.password.$invalid && signupForm.password.$touched }" ng-model="pageAuth.signup.password" ng-minlength="" ng-maxlength="" required=""><validation-messages field="signupForm.password"></validation-messages></div></div><div class="col-sm-6"><div class="form-group"><label for="signup-form--password-confirmation">Confirmar Senha*:</label> <input type="password" id="signup-form--password-confirmation" name="password_confirmation" class="form-control input-lg" ng-class="{ \'has-error\' : signupForm.password_confirmation.$invalid && signupForm.password_confirmation.$touched }" ng-model="pageAuth.signup.password_confirmation" ng-minlength="" ng-maxlength="" required=""><validation-messages field="signupForm.password_confirmation"></validation-messages></div></div></div><div class="row"><div class="col-sm-12" ng-show="(signupForm.password.$viewValue.length > 0 && signupForm.password_confirmation.$viewValue.length > 0) && (signupForm.password.$viewValue !== signupForm.password_confirmation.$viewValue)"><div class="error-message">As senhas estão diferentes.</div></div><div class="col-sm-12"><span class="text" ng-show="signupForm.password.$viewValue.length > 0 && signupForm.password.$viewValue.length < 6"><div class="error-message">A senha deve ter 6 ou mais caracteres e conter números e letras.</div></span></div></div><div class="form-group"><div class="checkbox"><label for="user_terms_accepted"><input type="checkbox" id="user_terms_accepted" name="user_terms_accepted" value="aceito" ng-model="pageAuth.signup.user_terms_accepted" required=""> Já li e concordo com os <button type="button" class="btn btn-link" style="padding:0 0 4px 0;" data-toggle="modal" data-target="#modalTermosDeUso">Termos de Uso</button></label></div><validation-messages field="signupForm.user_terms_accepted"></validation-messages></div><div class="form-group"><div id="serpro_captcha" class="captcha"></div><div class="captcha">Digite os caracteres acima:</div><div class="captcha"><input type="text" name="captcha_text" id="captcha_text" aria-label="Escreva os caracteres do captcha aqui" ng-model="pageAuth.signup.captcha_text" ng-minlength="" ng-maxlength="" required=""><validation-messages field="signupForm.captcha_text"></validation-messages></div></div><div class="form-group"><button type="submit" class="btn btn-lg btn-block btn-submit" ng-class="{\'disabled\' : !pageAuth.signup.user_terms_accepted }">Cadastrar</button></div><div class="form-group"><a ui-sref="reenviar-email" class="btn btn-lg btn-link" style="padding: 10px 0;">Re-enviar e-mail de confirmação</a></div></form></div></div></div></div></div></div></section><div class="modal fade" id="modalTermosDeUso" tabindex="-1" role="dialog" aria-labelledby="termosDeUsoLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header modal-termos-uso-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="modal-fechar-pequeno">FECHAR</span> <span aria-hidden="true" class="modal-fechar-grande">X</span></button></div><div class="modal-body modal-termos-uso-body"><div class="modal-termos-uso-body-inner" ng-if="pageAuth.terms"><div ng-bind-html="pageAuth.terms.body"></div></div></div></div></div></div>'),a.put("app/pages/duvidas/duvidas.html",'<div class="page--duvidas" role="main"><div class="container"><div class="row"><div class="col-sm-12"><h2>Dúvidas frequentes</h2><p>Talvez a sua dúvida já tenha uma resposta. Caso contrário, você pode enviar sua pergunta pelo campo abaixo que em breve responderemos.</p></div></div></div><section class="section-gray"><div class="container"><div class="row"><div class="panel-group" id="accordion-duvidas" role="tablist" aria-multiselectable="false"><div class="panel panel-default"><div ng-if="pageDuvidas.loadingQuestions"><div class="alert alert-info" role="alert">Carregando as dúvidas frequentes.</div></div><div ng-if="pageDuvidas.loadingQuestionsError"><div class="alert alert-danger" role="alert"><b>Erro!</b> Não foi possível carregar as dúvidas frequêntes.</div></div><div ng-if="!pageDuvidas.loadingQuestions && pageDuvidas.questions"><div class="question-item" ng-repeat="question in pageDuvidas.questions"><div id="duvida-{{($index + 1)}}" class="panel-heading" role="tab"><div class="panel-title" role="button" data-target="#collapse-{{($index + 1)}}" aria-expanded="($index === 0) ? \'true\' : \'false\'" aria-controls="collapse-{{($index + 1)}}" data-toggle="collapse" data-parent="#accordion-duvidas"><span class="num-duvida">{{($index + 1)}}</span> <span class="panel-title">{{question.title}}</span> <span class="glyphicon glyphicon-chevron-down icon-white pull-right" aria-hidden="true"></span></div></div><div id="collapse-{{($index + 1)}}" class="panel-collapse collapse" ng-class="{ \'in\': ($index === 0) }" role="tabpanel" aria-expanded="($index === 0) ? \'true\' : \'false\'" aria-labelledby="duvida-{{($index + 1)}}"><div class="panel-body" ng-bind-html="question.body"></div></div></div></div></div></div></div></div></section><section><div class="container"><div class="row"><h2>Tem outras dúvidas ou sugestões?</h2></div><div class="row"><div class="col-sm-12"><form role="form" name="contactForm" ng-submit="pageDuvidas.submitContactForm($event, contactForm)"><div class="row"><div class="col-sm-6"><div class="form-group"><label for="inputSubject">Assunto*</label><select id="inputSubject" name="inputSubject" class="form-control input-lg dark-input" ng-model="data.inputSubject" required=""><option value="">-- Selecione um Assunto --</option><option value="Dúvidas">Dúvidas</option><option value="Sugestões">Sugestões</option><option value="Outro">Outro</option></select><validation-messages field="contactForm.inputSubject"></validation-messages></div></div></div><div class="row"><div class="col-sm-6"><div class="form-group"><label for="inputName">Nome*</label> <input type="text" id="inputName" name="inputName" class="form-control input-lg light-input" ng-class="{ \'has-error\' : contactForm.inputName.$invalid && contactForm.inputName.$touched }" ng-model="inputName" ng-minlength="" ng-maxlength="" required=""><validation-messages field="contactForm.inputName"></validation-messages></div></div><div class="col-sm-6"><div class="form-group"><label for="inputEmail">E-mail*</label> <input type="email" id="inputEmail" name="inputEmail" class="form-control input-lg light-input" ng-class="{ \'has-error\' : contactForm.inputEmail.$invalid && contactForm.inputEmail.$touched }" ng-model="inputEmail" ng-minlength="" ng-maxlength="" required=""><validation-messages field="contactForm.inputEmail"></validation-messages></div></div></div><div class="form-group"><label for="inputMessage">Mensagem*</label> <textarea id="inputMessage" name="inputMessage" class="mensagem-text-area form-control light-input" ng-class="{ \'has-error\' : contactForm.inputMessage.$invalid && contactForm.inputMessage.$touched }" ng-model="inputMessage" required=""></textarea><validation-messages field="contactForm.inputMessage"></validation-messages></div><span class="pull-left">*Dados obrigatórios</span><div class="row"><div class="col-sm-4 form-group pull-right"><div class="form-group"><div id="serpro_captcha" class="captcha"></div><div class="captcha">Digite os caracteres acima:</div><div class="captcha"><input type="text" name="captcha_text" id="captcha_text" aria-label="Escreva os caracteres do captcha aqui" ng-model="pageSignin.signup.captcha_text" ng-minlength="" ng-maxlength="" required=""><validation-messages field="contactForm.captcha_text"></validation-messages></div></div><div class="row" ng-show="pageDuvidas.sendingContactForm"><div class="col-sm-12"><div class="alert alert-info" role="alert">Enviando formulário...</div></div></div><div class="row" ng-if="pageDuvidas.successMessage"><div class="col-sm-12"><div class="alert alert-success" role="alert">{{pageDuvidas.successMessage}}</div></div></div><div class="row" ng-if="pageDuvidas.errorMessage"><div class="col-sm-12"><div class="alert alert-danger" role="alert">{{pageDuvidas.errorMessage}}</div></div></div><button class="btn btn-lg btn-block btn-submit" type="submit" ng-class="{\'disabled\' : (contactForm.$invalid && !contactForm.$touched) }">Enviar Mensagem</button></div></div></form></div></div></div></section></div>'),a.put("app/pages/erro/erro.html",'<div class="page--erro"><div class="container"><div class="row"><div class="col-sm-8 col-sm-offset-2"><show-message type="\'error\'" message="\'Erro!\'" description="\'Página não encontrada.\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-6"><p><span style="font-weight:bold;">Mas você ainda pode:</span><br><button type="button" class="btn btn-link" ui-sref="inicio">retornar à página inicial</button></p></div></div></div></div></div></div>'),a.put("app/pages/inicio/inicio.html",'<div class="page--inicio" role="main"><section class="section-video"><div class="container"><div class="row"><div class="col-md-8" ng-class="{\'col-md-offset-2\': (!pageInicio.featuredEvent && !pageInicio.bannerRespostas)}"><div class="video-player js-youtube"><div class="embed-responsive embed-responsive-16by9"><div ng-if="!pageInicio.featuredEvent || !pageInicio.featuredEvent.canView"><div class="js-iframe" ng-if="pageInicio.article.videoIsLoaded" ng-bind-html="pageInicio.article.abstractTrusted"></div></div><div ng-if="pageInicio.featuredEvent && pageInicio.featuredEvent.canView"><div class="js-iframe" ng-bind-html="pageInicio.featuredEvent.bodyTrusted"></div></div><div class="video-background" ng-click="pageInicio.showVideo()"><div class="video-thumbnail" aria-hidden="true" style="background-image:url(/assets/images/youtube-background.png)"></div><button class="video-play-button" aria-live="assertive" aria-label="Assistir o vídeo tutorial Dialoga Brasil"><svg height="100%" version="1.1" viewbox="0 0 68 48" width="100%"><path class="ytp-play-button-bg" d="m .66,37.62 c 0,0 .66,4.70 2.70,6.77 2.58,2.71 5.98,2.63 7.49,2.91 5.43,.52 23.10,.68 23.12,.68 .00,-1.3e-5 14.29,-0.02 23.81,-0.71 1.32,-0.15 4.22,-0.17 6.81,-2.89 2.03,-2.07 2.70,-6.77 2.70,-6.77 0,0 .67,-5.52 .67,-11.04 l 0,-5.17 c 0,-5.52 -0.67,-11.04 -0.67,-11.04 0,0 -0.66,-4.70 -2.70,-6.77 C 62.03,.86 59.13,.84 57.80,.69 48.28,0 34.00,0 34.00,0 33.97,0 19.69,0 10.18,.69 8.85,.84 5.95,.86 3.36,3.58 1.32,5.65 .66,10.35 .66,10.35 c 0,0 -0.55,4.50 -0.66,9.45 l 0,8.36 c .10,4.94 .66,9.45 .66,9.45 z" fill="#1f1f1e" fill-opacity="0.9"></path><path d="m 26.96,13.67 18.37,9.62 -18.37,9.55 -0.00,-19.17 z" fill="#fff"></path><path d="M 45.02,23.46 45.32,23.28 26.96,13.67 43.32,24.34 45.02,23.46 z" fill="#ccc"></path></svg></button></div></div></div></div><div class="col-md-4" ng-hide="true" ng-show="pageInicio.featuredEvent"><div class="row"><div class="featured-event--box" ng-click="pageInicio.showEventVideo()"><div class="box-top col-xs-12 col-sm-4 col-md-12"><h2 class="box-title">Bate papo com <b>MINISTROS/AS</b></h2></div><div class="box-middle col-xs-12 col-sm-4 col-md-12"><div class="video" ng-style="{\'background-image\': \'url(\' + pageInicio.featuredEvent.image.url + \')\'}"></div></div><div class="box-bottom col-xs-12 col-sm-4 col-md-12"><div class="date">{{pageInicio.featuredEvent.start_date | date : "dd/MM/yyyy"}}</div><div class="live">AO VIVO</div><div class="description" ng-bind-html="pageInicio.featuredEvent.abstract"></div></div><div class="clearfix"></div></div></div></div><div class="col-md-4" ng-hide="true" ng-show="pageInicio.bannerRespostas"><div class="banner-respostas"><a ui-sref="respostas" class="banner-respostas--link-top"><span class="banner-respostas--background-image" aria-hidden="true"></span> <img class="banner-respostas--logo" src="/assets/images/banner-logo--dialoga-brasil.png" alt="Logo Dialoga Brasil"><br><span class="banner-respostas--text1">O dialoga já respondeu</span><br><span class="banner-respostas--text2">às suas solicitações!</span><br><span class="banner-respostas--text3">Vários programas contaram com centenas de participações e elas foram respondidas, confira já quais propostas foram respondidas:</span></a> <a ui-sref="respostas" class="banner-respostas--link-bottom">Veja todas as respostas das propostas</a></div></div><div class="col-md-4" ng-show="pageInicio.bannerRespostas"><div class="banner-respostas"><a ui-sref="respostas"><img class="banner-respostas--logo banner-respostas--logo-small img-responsive banner-responsive" src="/assets/images/banner_home_2.png" alt="O governo federal segue dialogando com a sociedade. Você fez sua parte mandando participando com propostas para melhorar o país e o governo respondeu. Confira aqui o resultado!"></a></div><br></div></div></div></section><section class="section-event"><div ng-if="pageInicio.events"><event-list events="pageInicio.events"></event-list></div><div ng-if="!pageInicio.events && pageInicio.loadingEvents" class="container"><div class="row"><div class="col-sm-12"><div class="alert alert-info" role="alert">Carregando lista de eventos.</div></div></div></div><div ng-if="!pageInicio.events && pageInicio.eventsError" class="container"><div class="row"><div class="col-sm-12"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de eventos neste momento.</div></div></div></div></section><section class="section-info" ng-if="pageInicio.loading || pageInicio.error"><div class="container"><div class="row"><div class="col-md-12"><div ng-if="pageInicio.loading && !pageInicio.error"><div class="alert alert-info" role="alert">Carregando conteúdo...</div></div><div ng-if="pageInicio.error"><div class="alert alert-danger" role="alert">Erro ao carregar o conteúdo principal.</div></div></div></div></div></section><section class="section--articles section-gray section-space-up" ng-if="pageInicio.article"><div class="container"><div id="lista-de-programas" class="row"><div class="col-sm-4 col-md-3"><div class="row visible-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter1" class="control-label sr-only">Buscar programas:</label> <input id="articleQueryFilter1" type="search" class="form-control input-search" ng-model="pageInicio.query" placeholder="Buscar programas" aria-label="Buscar programas"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageInicio.submitSearch()"><span class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></span> <span class="sr-only">Buscar</span></button></span></div><br></div></div><div ng-if="pageInicio.themes && !vm.loadingFilter"><category-list categories="pageInicio.themes" selected-category="pageInicio.selectedTheme"></category-list></div><div ng-if="!pageInicio.themes && pageInicio.loadingThemes"><div class="alert alert-info" role="alert">Carregando temas.</div></div><div ng-if="!pageInicio.themes && pageInicio.themesError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de temas neste momento.</div></div></div><div class="col-sm-8 col-md-9"><div class="row hidden-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter2" class="control-label sr-only">Buscar programas:</label> <input id="articleQueryFilter2" type="search" class="form-control input-search" ng-model="pageInicio.query" placeholder="Buscar programas" aria-label="Buscar programas"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageInicio.submitSearch()"><span class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></span> <span class="sr-only">Buscar</span></button></span></div></div></div><div id="search-result" class="row"><div class="col-sm-12"><header class="header"><h2>Programas</h2><button type="button" class="btn btn-link" ng-click="pageInicio.showAllPrograms($event)"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> Ver todos os {{::pageInicio.programs.length}} programas</button></header></div></div><div class="row"><div class="col-sm-12" ng-if="pageInicio.filtredPrograms && !vm.loadingFilter"><article-grid articles="pageInicio.filtredPrograms"></article-grid></div><div ng-if="!pageInicio.programs && pageInicio.loadingPrograms"><div class="alert alert-info" role="alert">Carregando programas.</div></div><div ng-if="!pageInicio.programs && pageInicio.programsError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de programas neste momento.</div></div></div></div></div></div></section></div>'),a.put("app/pages/mapa-do-site/mapa-do-site.html",'<div class="container"><div class="row"><div class="col-sm-11 col-sm-offset-1"><h2>Mapa do Site</h2><p>Uma visão geral do conteúdo disponível no site.</p></div></div></div><div class="page--mapa"><div class="container"><div class="row"><div class="col-sm-11 col-sm-offset-1"><ul class="list-sitemap"><li class="list-sitemap--item level-1"><a ui-sref="sobre" title="Conheça mais sobre o Dialoga Brasil">Sobre</a></li><li class="list-sitemap--item level-1"><a ui-sref="programas" title="Acesse a lista de programas">Programas</a><ul ng-if="sitemap.programsPerThemes"><li ng-if="!sitemap.programsPerThemes">Carregando lista de programas...</li><li ng-if="sitemap.programsPerThemes" class="list-sitemap--item level-2" ng-repeat="(slug, theme) in sitemap.programsPerThemes"><a ui-sref="programas({tema: slug})" ui-sref-opts="{location: true}" title="Acesse a lista de programas do {{theme.name}}">{{theme.name}}</a><ul><li class="list-sitemap--item level-3" ng-repeat="program in theme.programs"><a ui-sref="programa({slug: program.slug})" ui-sref-opts="{location: true}" title="Acesse o programa {{::program.title}}">{{::program.title}}</a></li></ul></li></ul></li><li class="list-sitemap--item level-1"><a ui-sref="propostas" title="Acesse a lista de propostas">Propostas</a></li><li class="list-sitemap--item level-1"><a ui-sref="ranking" title="Acesse o ranking de propostas">Ranking</a></li><li class="list-sitemap--item level-1"><a ui-sref="duvidas" title="Acesse para ler as principais dúvidas ou enviar a sua.">Dúvidas e sugestões</a></li><li class="list-sitemap--item level-1"><a ui-sref="entrar" title="Acesse para ler as principais dúvidas ou enviar a sua.">Entrar</a></li><li class="list-sitemap--item level-1"><span>Dialoga nas redes</span><ul><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="facebook" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." title="Compartilhar no Facebook"><span>Facebook</span></a></li><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="twitter" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." socialshare-hastags="dialogabrasil" title="Compartilhar no Twitter"><span>Twitter</span></a></li><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="google+" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." title="Compartilhar no Google Plus"><span>Google Plus</span></a></li><li class="list-sitemap--item level-2"><a href="whatsapp://send?text=Aqui suas ideias viram propostas e você ajuda a melhorar as ações do governo http://hom.dialoga.gov.br/" title="Compartilhar no WhatsApp"><span>WhatsApp</span></a></li></ul></li><li class="list-sitemap--item level-1"><span>Compartilhar</span><ul><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="facebook" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." title="Compartilhar no Facebook"><span>Facebook</span></a></li><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="twitter" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." socialshare-hastags="dialogabrasil" title="Compartilhar no Twitter"><span>Twitter</span></a></li><li class="list-sitemap--item level-2"><a href="#" role="button" socialshare="" socialshare-provider="google+" socialshare-url="http://hom.dialoga.gov.br" socialshare-text="Conheça o Dialoga Brasil. Dialoga Brasil | O País fica melhor quando VOCÊ PARTICIPA." title="Compartilhar no Google Plus"><span>Google Plus</span></a></li><li class="list-sitemap--item level-2"><a href="whatsapp://send?text=Aqui suas ideias viram propostas e você ajuda a melhorar as ações do governo http://hom.dialoga.gov.br/" title="Compartilhar no WhatsApp"><span>WhatsApp</span></a></li></ul></li><li class="list-sitemap--item level-1"><a ui-sref="termos-de-uso" title="Acesse para ler os termos de uso do Dialoga Brasil">Termos de uso</a></li></ul></div></div><button type="button" class="btn btn-link" ui-sref="inicio">Retornar à página inicial</button></div></div>'),a.put("app/pages/programas/programa.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="page--program"><section ng-if="!pagePrograma.article"><div class="container"><div class="row"><div class="col-sm-12"><div ng-if="pagePrograma.loading" class="alert alert-info" role="alert">Carregando detalhes sobre o progama...</div><div ng-if="pagePrograma.error" class="alert alert-warning" role="alert">Erro ao carregar o programa.</div></div></div></div></section><div role="main" ng-class="pagePrograma.category.slug"><section ng-if="pagePrograma.article.body"><div class="container"><div class="row"><article class="program-preview" ng-class="{ \'program-preview--archived\': pagePrograma.article.archived }"><div class="col-md-12"><h1 class="program-preview--title color-theme-fg">{{::pagePrograma.article.title}}</h1></div><div class="col-md-8"><div class="program-preview--box contraste-box"><div class="program-preview--banner" ng-style="{\'background-image\':\'url( {{::pagePrograma.banner.src}} )\'}"><div ng-if="pagePrograma.article.archived" class="img-mask--background"><div class="icon icon-programa-respondido"><div class="icon-circle"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div></div></div></div><div class="program-preview--box--content-wrapper"><div class="program-preview--icon icon-wrapper-rounded color-theme-bg" ng-class="pagePrograma.category.slug"><span class="icon" ng-class="\'icon-tema-\' + pagePrograma.category.slug"></span></div><div class="program-preview--abstract color-theme-fg" ng-if="pagePrograma.article.archived === false"><h2>{{::stripHtml(pagePrograma.article.summary)}}</h2></div><div class="program-preview--abstract-details" ng-if="pagePrograma.article.archived === false"><div ng-bind-html="pagePrograma.article.summaryExtended"></div></div><div class="program-preview--share"><div ng-show="!pagePrograma.article.archived" class="program-preview--share-label">COMPARTILHE ESTE <b>PROGRAMA</b></div><div ng-show="pagePrograma.article.archived" class="row text-right"><div class="col-xs-12"><a ui-sref="ranking({tema: pagePrograma.category.slug, programa: pagePrograma.article.slug})" class="btn btn-link"><span>Ver Propostas</span> <span class="glyphicon glyphicon-chevron-right color-theme-common-fg" aria-hidden="true"></span></a></div></div><div ng-show="pagePrograma.article.archived" class="program-preview--share-label">COMPARTILHE ESSA <b>RESPOSTA</b></div><div class="dropdown"><button id="dropdown-share-btn" class="btn btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Mostrar ou esconder a lista redes sociais para compartilhamento"><span class="icon icon-social-share-small" aria-hidden="true"></span></button><social-share social-url="pagePrograma.$state.href(\'programa\', {slug: pagePrograma.article.slug}, {absolute: true})" social-text="pagePrograma.article.title" social-image="pagePrograma.banner.src" arrow-class="social-share--arrow" class="dropdown-menu dropdown-menu-right"></social-share></div></div><div class="program-preview--make-proposal" ng-if="pagePrograma.article.archived === false"><div class="row"><div class="col-sm-6"><div class="button--themed"><button type="button" class="btn btn-block" ng-click="pagePrograma.showProposalForm()">Faça uma proposta</button></div></div></div></div></div></div></div><div class="col-md-4 hidden-xs hidden-sm"><div class="row" ng-if="!pagePrograma.article.archived"><div><div ng-if="pagePrograma.loadingTopProposals"><div class="alert alert-info" role="alert">Carregando propostas mais votadas...</div></div><div class="col-xs-12" ng-if="!pagePrograma.loadingTopProposals && pagePrograma.proposalsTopRated && pagePrograma.proposalsTopRated.length > 0"><h3 class="color-theme-fg">Propostas mais votadas</h3><proposal-carousel proposals="pagePrograma.proposalsTopRated" archived="pagePrograma.article.archived"></proposal-carousel></div></div><div><div class="col-xs-12" ng-if="!pagePrograma.loadingProposalBox && pagePrograma.randomProposal" ng-class="{\'focused-proposal\': !!pagePrograma.search.proposal_id}"><h3 class="color-theme-fg">Apoie outras propostas</h3><proposal-box proposal="pagePrograma.randomProposal" topic="pagePrograma.article" category="pagePrograma.category" show-vote="true" focus="{{pagePrograma.search.proposal_id}}" do-vote="pagePrograma.vote(proposal_id, value)" archived="pagePrograma.article.archived"></proposal-box></div><div ng-if="pagePrograma.loadingProposalBox"><div class="alert alert-info" role="alert">Carregando propostas nesse programa...</div></div></div><div ng-if="!pagePrograma.loadingTopProposals && !pagePrograma.loadingProposalBox"><div class="col-xs-12" ng-if="!pagePrograma.randomProposal && !(pagePrograma.proposalsTopRated && pagePrograma.proposalsTopRated.length > 0)"><h3>Programas sem propostas</h3><p>Este programa ainda não possui nenhuma proposta.<div class="button--themed"><button type="button" class="btn btn-block" ng-click="pagePrograma.showProposalForm()">Faça uma proposta</button></div></p></div></div></div><div class="row" ng-if="pagePrograma.article.archived"><div class="col-sm-12"><div class="gov-response--link-list" ng-repeat="proposal in pagePrograma.proposalsTopRated"><div class="gov-response--link-item"><div class="button--themed"><button type="button" class="btn btn-block" ng-click="pagePrograma.toggleResponseVisibility(proposal)"><span style="font-weight:300;">Veja o que o governo respondeu</span><br><span>{{:: ( $index + 1 ) }}ª proposta mais votada</span></button></div></div></div></div></div></div></article></div></div></section><section id="section-proposal-list" class="proposal-extended-section" style="display:none;" ng-if="pagePrograma.proposalsTopFive && pagePrograma.proposalsTopFive.length > 0"><div class="container"><div class="proposal-extended-section-header"><h3 class="color-theme-fg">Resultados de propostas mais votadas</h3><button type="button" aria-label="Close" class="btn btn-close" ng-click="pagePrograma.hideProposalsList()"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></div><div class="proposal-extended-section-content"><proposal-list proposals="pagePrograma.proposalsTopFive" archived="pagePrograma.article.archived"></proposal-list><div class="row text-center"><div class="col-xs-12"><a ng-show="pagePrograma.total_proposals > 5" ui-sref="ranking({tema: pagePrograma.category.slug, programa: pagePrograma.article.slug})" class="btn btn-link"><span>Veja todas as {{pagePrograma.total_proposals}} propostas</span></a></div></div></div></div></section><section id="section-proposal-form" class="proposal-extended-section" style="display:none;"><div class="container"><div class="proposal-extended-section-header"><button type="button" aria-label="Close" class="btn btn-close" ng-click="pagePrograma.hideProposalForm()"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></div><div ng-if="!pagePrograma.$rootScope.currentUser"><show-message type="\'alert\'" message="\'Você não está logado!\'" description="\'Você precisa estar logado para enviar uma proposta.\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><a ui-sref="entrar({redirect_uri: pagePrograma.sendProposalRedirectURI})">Clique aqui para ir para a página de login</a></div></div></div><div ng-if="pagePrograma.$rootScope.currentUser"><div class="proposal-extended-section-content"><div ng-if="pagePrograma.proposalStatus === pagePrograma.PROPOSAL_STATUS.SUCCESS"><show-message type="\'success\'" message="\'Proposta enviada com sucesso!\'" description="\'Sua proposta foi enviada para a nossa equipe de moderação. Em aproximadamente 72 horas você receberá em seu endereço de e-mail uma resposta sobre a sua proposta.\'"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><button type="button" class="btn btn-link" ng-click="pagePrograma.sendAnotherProposal()">Clique aqui para enviar outra proposta</button></div></div></div><div ng-if="pagePrograma.proposalStatus === pagePrograma.PROPOSAL_STATUS.SENDING">Enviando...</div><div ng-if="pagePrograma.proposalStatus === pagePrograma.PROPOSAL_STATUS.ERROR"><show-message type="\'error\'" message="\'Erro \' + pagePrograma.error.code + \'!\'" description="pagePrograma.error.message"></show-message><div class="row"><div class="col-sm-4"></div><div class="col-sm-8 text-center-sm"><button type="button" class="btn btn-link" ng-click="pagePrograma.sendAnotherProposal()">Clique aqui para enviar outra proposta</button></div></div></div><div ng-if="!pagePrograma.proposalStatus"><cadastro-proposta program="pagePrograma.article" status="pagePrograma.proposalStatus"></cadastro-proposta></div></div></div></div></section><section id="section-archived-banner" class="color-theme-bg" ng-if="pagePrograma.article.archived"><div class="container"><div class="row"><div class="col-sm-12"><h2><div class="program-banner--icon" aria-hidden="true"><div class="icon icon-respostas"></div></div><span class="archived-banner--title1">As propostas para este programa já foram</span><br><span class="archived-banner--title2">respondidas pelo governo federal. Confira!</span></h2></div></div></div></section><section id="section-response" ng-if="pagePrograma.article.archived"><div ng-if="!pagePrograma.proposalsTopRated"><div class="container"><div class="row"><div class="col-sm-12"><div class="alert alert-info" role="alert">Carregando propostas mais votadas...</div></div></div></div></div><div ng-if="pagePrograma.proposalsTopRated"><div ng-repeat="proposal in pagePrograma.proposalsTopRated"><div class="sub-section sub-section-{{::proposal.id}}" ng-class="{\'sub-section-even\': ( ($index+1) % 2 === 0), \'sub-section-odd\': ( ($index+1) % 2 === 1)}"><div class="container"><div class="row"><div class="col-sm-4 col-md-3"><div class="img-mask--container" ng-style="{\'background-image\':\'url( {{::proposal.body}} )\'}"><div class="img-mask--background ng-scope"><div class="icon icon-programa-respondido"><div class="icon-circle"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></div></div></div></div></div><div class="col-sm-8 col-md-9"><br><h3 class="color-theme-fg">{{($index+1)}}ª proposta mais votada:</h3><p>{{::proposal.abstract}}</p><div class="button--themed"><button class="btn btn-block btn-responsive" ng-click="pagePrograma.toggleResponseVisibility(proposal)">Veja a resposta e o compromisso do governo<div class="button-left-icon"><span class="glyphicon glyphicon-chevron-down pull-right color-theme-common-fg" aria-hidden="true"></span></div></button></div><br></div></div></div></div><div ng-if="proposal.response" class="gov-response gov-response-{{::proposal.id}}" style="display:none;"><div class="container"><div class="row"><div class="col-sm-12"><div ng-if="proposal.response.loading" class="alert alert-info" role="alert">Carregando a resposta e compromisso do governo.</div><div ng-if="proposal.response.error" class="alert alert-warning" role="alert">Erro ao carregar a resposta e compromisso. Tente novamente ou <a ui-sref="duvidas">entre em contato</a>.</div><div ng-if="proposal.response.content"><div class="gov-response--content"><div ng-bind-html="proposal.response.content"></div></div></div></div></div><div class="row"><div class="col-sm-12"><button class="btn btn-block btn-close-response pull-right color-theme-common-fg" ng-click="pagePrograma.toggleResponseVisibility(proposal)">FECHAR<div class="button-right-icon icon-circle icon-small icon-circle-close-response color-theme-common-bg pull-right"><span class="glyphicon glyphicon-remove icon-white" aria-hidden="true"></span></div></button></div></div></div></div></div><div class="response--context vertical-padding"><div class="container"><div class="row"><div class="col-sm-5"><div class="button--themed"><a class="btn btn-block" ui-sref="respostas"><span>Veja todas as propostas</span><br><span>Respondidas pelo governo</span> <span class="glyphicon glyphicon-chevron-right"></span></a></div></div><div class="col-sm-2"></div><div class="col-sm-5"><div class="button--themed"><button type="button" class="btn btn-block" ng-click="pagePrograma.toggleContentVisibility()"><span>Saiba mais sobre o programa</span><br><span>{{::pagePrograma.article.title}}</span> <span class="glyphicon glyphicon-chevron-right"></span></button></div></div></div></div></div></div></section><section class="section-content" ng-style="{ display: pagePrograma.article.archived ? \'none\': \'block\' }"><div ng-if="pagePrograma.article.archived"><div class="container"><div class="row"><div class="col-sm-12 color-theme-fg"><h3 style="font-weight: bold;">Sobre o programa:</h3></div></div></div></div><article class="program-content" ng-if="pagePrograma.article" ng-class="pagePrograma.article.slug"><div ng-bind-html="pagePrograma.article.bodyTrusted"></div></article></section></div></div>'),
a.put("app/pages/programas/programas.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="page--programas" role="main"><section class="section--info"><div class="container"><div class="row"><div class="col-sm-12"><h1>Programas</h1></div></div></div></section><section class="section--articles section-gray section-space-up" ng-if="pageProgramas.programs"><div class="container"><div id="lista-de-programas" class="row"><div class="col-sm-4 col-md-3"><div class="row visible-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar programas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pageProgramas.query" placeholder="Buscar programas" aria-label="Buscar programas"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageProgramas.submitSearch()"><span class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></span> <span class="sr-only">Buscar</span></button></span></div><br></div></div><div ng-if="pageProgramas.themes && !vm.loadingFilter"><category-list categories="pageProgramas.themes" selected-category="pageProgramas.selectedTheme"></category-list></div><div ng-if="!pageProgramas.themes && pageProgramas.loadingThemes"><div class="alert alert-info" role="alert">Carregando temas.</div></div><div ng-if="!pageProgramas.themes && pageProgramas.themesError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de temas neste momento.</div></div></div><div class="col-sm-8 col-md-9"><div class="row hidden-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar programas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pageProgramas.query" placeholder="Buscar programas" aria-label="Buscar programas"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageProgramas.submitSearch()"><span class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></span> <span class="sr-only">Buscar</span></button></span></div></div></div><div id="search-result" class="row"><div class="col-sm-12"><header class="header"><h2>Conheça os programas</h2><button type="button" class="btn btn-link" ng-click="pageProgramas.showAllPrograms($event)"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> Ver todos os {{::pageProgramas.programs.length}} programas</button></header></div></div><div class="row"><div class="col-sm-12" ng-if="pageProgramas.filtredPrograms && !vm.loadingFilter"><article-grid articles="pageProgramas.filtredPrograms"></article-grid></div><div ng-if="!pageProgramas.programs && pageProgramas.loadingPrograms"><div class="alert alert-info" role="alert">Carregando programas.</div></div><div ng-if="!pageProgramas.programs && pageProgramas.programsError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de programas neste momento.</div></div></div></div></div></div></section></div>'),a.put("app/pages/propostas/propostas.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="page--propostas" role="main"><section class="section-info" ng-if="pagePropostas.loading || pagePropostas.error"><div class="container"><div class="row"><div class="col-md-12"><div ng-if="pagePropostas.loading && !pagePropostas.error"><div class="alert alert-info" role="alert">Carregando conteúdo...</div></div><div ng-if="pagePropostas.error"><div class="alert alert-danger" role="alert">Erro ao carregar o conteúdo principal.</div></div></div></div></div></section><section class="section--header" ng-if="pagePropostas.filtredProposals || pagePropostas.themes"><div class="container"><div class="row"><div class="col-sm-12"><h1>Propostas</h1></div></div></div></section><section class="section--articles section-gray section-space-up" ng-if="pagePropostas.filtredProposals || pagePropostas.themes"><div class="container"><div id="lista-de-propostas" class="row"><div class="col-sm-4 col-md-3"><div class="row visible-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar propostas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pagePropostas.query" placeholder="Buscar propostas" aria-label="Buscar propostas"><div class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pagePropostas.submitSearch()"><div class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></div><span class="sr-only">Buscar</span></button></div></div><br></div></div><div ng-if="pagePropostas.themes"><category-list categories="pagePropostas.themes" selected-category="pagePropostas.selectedTheme"></category-list></div><div ng-if="!pagePropostas.themes && pagePropostas.loadingThemes"><div class="alert alert-info" role="alert">Carregando temas.</div></div><div ng-if="!pagePropostas.themes && pagePropostas.themesError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de temas neste momento.</div></div></div><div class="col-sm-8 col-md-9"><div class="row hidden-xs" ng-if="pagePropostas.filtredProposals"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar propostas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pagePropostas.query" placeholder="Buscar propostas" aria-label="Buscar propostas"><div class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pagePropostas.submitSearch()"><div class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></div><span class="sr-only">Buscar</span></button></div></div></div></div><div id="search-result" class="row" ng-if="pagePropostas.filtredProposals"><div class="col-sm-12"><header class="header"><h2>Total de Propostas: "<b>{{pagePropostas.total_proposals}} propostas</b>"</h2></header></div></div><div class="row"><div class="col-sm-12" ng-if="!pagePropostas.loadingProposals && pagePropostas.filtredProposals && pagePropostas.total_proposals"><proposal-grid proposals="pagePropostas.filtredProposals"></proposal-grid><app-paginator page="pagePropostas.page" per-page="pagePropostas.per_page" total="pagePropostas.total_proposals" change-page="pagePropostas.changePage(pageIndex)"></app-paginator></div><div ng-if="pagePropostas.loadingProposals"><div class="alert alert-info" role="alert">Carregando propostas.</div></div><div ng-if="!pagePropostas.loadingProposals && pagePropostas.proposalsError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de propostas neste momento.</div></div></div></div></div></div></section></div>'),a.put("app/pages/ranking/ranking.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="page--ranking" role="main"><section class="section-info" ng-if="pageRanking.loading || pageRanking.error"><div class="container"><div class="row"><div class="col-md-12"><div ng-if="pageRanking.loading && !pageRanking.error"><div class="alert alert-info" role="alert">Carregando conteúdo...</div></div><div ng-if="pageRanking.error"><div class="alert alert-danger" role="alert">Erro ao carregar o conteúdo principal.</div></div></div></div></div></section><section class="section--info" ng-if="pageRanking.filtredProposals || pageRanking.themes"><div class="container"><div class="row"><div class="col-sm-12"><h1>Ranking</h1></div></div></div></section><section class="section--articles section-gray section-space-up" ng-if="pageRanking.filtredProposals || pageRanking.themes"><div class="container"><div id="lista-de-propostas" class="row"><div class="col-sm-4 col-md-3"><div ng-if="pageRanking.themes"><category-list categories="pageRanking.themes" selected-category="pageRanking.selectedTheme" disable-unselect="true"></category-list></div><div ng-if="pageRanking.filtredPrograms && pageRanking.selectedProgram" class="topics-select--wrapper"><topics-select topics="pageRanking.filtredPrograms" selected-topic="pageRanking.selectedProgram"></topics-select></div><div ng-if="!pageRanking.themes && pageRanking.loadingThemes"><div class="alert alert-info" role="alert">Carregando temas.</div></div><div ng-if="!pageRanking.themes && pageRanking.themesError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de temas neste momento.</div></div></div><div class="col-sm-8 col-md-9"><div class="row"><div class="col-sm-12"><header class="header"><h2 style="margin-top:0;">Total de Propostas: "<span>{{pageRanking.total_proposals}} propostas</span>"</h2></header></div></div><div class="row"><div class="col-sm-12" ng-if="pageRanking.filtredProposals && pageRanking.total_proposals"><proposal-list proposals="pageRanking.filtredProposals" per-page="pageRanking.per_page" total="pageRanking.total_proposals"></proposal-list><app-paginator page="pageRanking.page" per-page="pageRanking.per_page" total="pageRanking.total_proposals" change-page="pageRanking.changePage(pageIndex)"></app-paginator></div><div class="col-sm-12" ng-if="pageRanking.loadingProposals"><div class="alert alert-info" role="alert">Carregando propostas.</div></div><div class="col-sm-12" ng-if="pageRanking.proposalsError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de propostas neste momento.</div></div></div></div></div></div></section></div>'),a.put("app/pages/respostas/respostas.html",'<div class="container"><div class="row"><div class="col-sm-12"><div ncy-breadcrumb=""></div></div></div></div><div class="page--respostas" role="main"><section class="section-info" ng-if="pageRespostas.loading || pageRespostas.error"><div class="container"><div class="row"><div class="col-md-12"><div ng-if="pageRespostas.loading && !pageRespostas.error"><div class="alert alert-info" role="alert">Carregando conteúdo...</div></div><div ng-if="pageRespostas.error"><div class="alert alert-danger" role="alert">Erro ao carregar o conteúdo principal.</div></div></div></div></div></section><section class="section--header" ng-if="pageRespostas.filtredProposals || pageRespostas.themes"><div class="container"><div class="row"><div class="col-sm-12"><h1>O Governo Federal segue dialogando com a sociedade</h1><p>Você fez sua parte participando com propostas para melhorar o país e o Governo respondeu. Confira as propostas respondidas.</p></div></div></div></section><section class="section--articles section-gray section-space-up" ng-if="pageRespostas.filtredProposals || pageRespostas.themes"><div class="container"><div id="lista-de-respostas" class="row"><div class="col-sm-4 col-md-3"><div class="row visible-xs"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar respostas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pageRespostas.query" placeholder="Buscar respostas" aria-label="Buscar respostas"><div class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageRespostas.submitSearch()"><div class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></div><span class="sr-only">Buscar</span></button></div></div><br></div></div><div ng-if="pageRespostas.themes"><category-list categories="pageRespostas.themes" selected-category="pageRespostas.selectedTheme"></category-list></div><div ng-if="!pageRespostas.themes && pageRespostas.loadingThemes"><div class="alert alert-info" role="alert">Carregando temas.</div></div><div ng-if="!pageRespostas.themes && pageRespostas.themesError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de temas neste momento.</div></div></div><div class="col-sm-8 col-md-9"><div class="row hidden-xs" ng-if="pageRespostas.filtredProposals"><div class="col-xs-12"><div class="input-group input-group-lg input-group-search"><label for="articleQueryFilter" class="control-label sr-only">Buscar propostas:</label> <input id="articleQueryFilter" type="search" class="form-control input-search" ng-model="pageRespostas.query" placeholder="Buscar respostas" aria-label="Buscar respostas"><div class="input-group-btn"><button type="button" class="btn btn-default" ng-click="pageRespostas.submitSearch()"><div class="icon-circle icon-small color-theme-common-bg"><span class="glyphicon glyphicon-search"></span></div><span class="sr-only">Buscar</span></button></div></div></div></div><div id="search-result" class="row" ng-if="pageRespostas.filtredProposals"><div class="col-sm-12"><header class="header"><h2>Total de Propostas: "<b>{{pageRespostas.total_proposals}} propostas</b>"</h2></header></div></div><div class="row"><div class="col-sm-12" ng-if="!pageRespostas.loadingProposals && pageRespostas.filtredProposals && pageRespostas.total_proposals"><proposal-grid proposals="pageRespostas.filtredProposals"></proposal-grid><app-paginator page="pageRespostas.page" per-page="pageRespostas.per_page" total="pageRespostas.total_proposals" change-page="pageRespostas.changePage(pageIndex)"></app-paginator></div><div ng-if="pageRespostas.loadingProposals"><div class="alert alert-info" role="alert">Carregando propostas.</div></div><div ng-if="!pageRespostas.loadingProposals && pageRespostas.proposalsError"><div class="alert alert-danger" role="alert">Não foi possível carregar a lista de propostas neste momento.</div></div></div></div></div></div></section></div>')}]);